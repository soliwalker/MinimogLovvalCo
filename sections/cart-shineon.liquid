<!-- ./sections/cart-shineon.liquid -->

{% if shop.metafields.shineon.is_shineon_brand == true and shop.metafields.shineon.is_shineon_brand != blank %}
  {% include 'request-host' %}
{% endif %}

{% assign switch_added_to_page = false %}
{% assign hide_free_shipping = false %}
{% assign package_protection_sku_prefix = 'so_pp_total_' %}
{% assign warranty_prod = all_products['warranty'] %}
{% if warranty_prod.title == '' %}
  {% assign warranty_prod = all_products['2-year-protection-plan'] %}
{% endif %}
{% assign is_warranty_prod_in_cart = false %}
{% assign package_protection_prod = all_products['purchase-protection-route-replacement'] %}
{% assign is_package_protection_prod = false %}
{% assign package_protection_prod_cart_line = false %}
{% for cart_item in cart.items %}
  {% if cart_item.key contains warranty_prod.variants[0].id %}
    {% assign is_warranty_prod_in_cart = true %}
  {% endif %}
  {% if cart_item.product_id == package_protection_prod.id %}
    {% assign is_package_protection_prod = true %}
    {% assign package_protection_prod_cart_line = cart_item %}
  {% endif %}
  {% assign free_shipping = false %}
  {% for tag in cart_item.product.tags %}
    {% if tag == section.settings.tag_switch %}
      {% assign switch_added_to_page = true %}
    {% endif %}

    {% if shop.metafields.shineon.is_shineon_brand == true and shop.metafields.shineon.is_shineon_brand != blank %}
      {% if tag == settings.free_shipping_tag %}
        {% assign free_shipping = true %}
      {% endif %}
    {% endif %}
  {% endfor %}

  {% if free_shipping == false %}
    {% assign hide_free_shipping = true %}
  {% endif %}
{% endfor %}


{% comment %}CHECK IF CART CONTAINS SHINEON PRODUCTS{% endcomment %}
{% assign is_oreo_box_needed = false %}
{% for cart_item in cart.items %}
  {% if cart_item.vendor contains 'ShineOn' %}
    {% assign is_oreo_box_needed = true %}
  {% endif %}
{% endfor %}
{% for cart_item in cart.items %}
  {% if cart_item.variant.metafields.shineon.ipcs contains '-WOOD' or cart_item.variant.metafields.shineon.ipcs contains 'M0' %}
    {% assign is_oreo_box_needed = false %}
  {% endif %}
{% endfor %}

<style type="text/css">
  .tailwind .so-cart-addon button {
    min-height: 0;
    justify-content: flex-start;
  }
  .hide,
  .hidden {
    display: none;
  }
  .hide-forced,
  .hidden-forced {
    display: none !important;
  }
  @media (min-width: 576px) {
    .hidden-sm-up {
        display: none !important;
    }
  }
  @media (max-width: 575px) {
    .hidden-sm-down {
        display: none !important;
    }
  }
  body.loading:after {
    content: "";
    width: 100%;
    height: 100%;
    position: fixed;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    background-color: #fff;
    z-index: 10;
  }
  .cart-expire-only .cart-expire-counting {
    text-align: center;
    width: 100%;
  }
  .cart-expire-only.cart-page-heading {
    padding: 10px 0;
    background-color: {{ section.settings.cart_title_timer_bg }};
    border: 1px solid {{ section.settings.cart_timer_color }};
  }
  @media(max-width: 767px) {
    .visibble-md-down {
      display: block;
    }
    .visibble-md-up {
      display: none;
    }
  }
  @media(min-width: 768px) {
    .visibble-md-down {
      display: none;
    }
    .visibble-md-up {
      display: block;
    }
  }
  /** 2145 Theme | PushOwl Popup hide for PP **/
  .pushowl-optin {
    display: none !important;
  }
  @media(min-width: 321px) and (max-width:767px) {
    #shopify-section-{{ section.id }} .with-free-shipping:not(.non-free-shipping-w) {
      display: flex !important;
      align-items: center;
      justify-content: space-between;
    }
  }
  #shopify-section-{{ section.id }} .wrap__cart_totals .money {
    padding-left: 5px !important;
  }
  #shopify-section-{{ section.id }} .cart-form-header .free-shipping {
    padding: 20px 0 0;
  }
  #shopify-section-{{ section.id }} .free-shipping {
    color: #274372;
  }
  #shopify-section-{{ section.id }} .free-shipping span {
    font-weight: 600;
  }
  #shopify-section-{{ section.id }} .free-shipping svg {
    width: 30px;
    height: 30px;
    margin-right: 5px;
    vertical-align: middle;
    fill: #274372;
  }
  #shopify-section-{{ section.id }} .non-free-shipping .free-shipping {
    display: none;
  }
  #shopify-section-{{ section.id }} .package-protection {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-top: 15px;
    margin-bottom: 15px;
    font-family: "Nunito Sans", sans-serif;
  }
  .so-modal-body .content-header-icon,
  #shopify-section-{{ section.id }} .package-protection .icon {
    width: 45px;
    height: 45px;
    border-radius: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .so-modal-body .content-header-icon {
    margin-right: 10px;
  }
  .so-modal-body-info .content-header img
  {
    object-fit: contain;
  }
  .so-modal-body .content-header svg,
  #shopify-section-{{ section.id }} .package-protection .icon svg {
    width: 34px;
    height: 33px;
  }
  #shopify-section-{{ section.id }} .package-protection:hover {
    cursor: pointer;
  }
  #shopify-section-{{ section.id }} .package-protection .is-in-cart.included {
    color: #64c010;
  }
  #shopify-section-{{ section.id }} .package-protection .is-in-cart.excluded {
    color: {{ section.settings.cart_timer_color }};
  }
  #shopify-section-{{ section.id }} .package-protection .description-icon {
    display: flex;
    align-items: center;
  }
  #shopify-section-{{ section.id }} .package-protection .description-icon .icon {
    margin-right: 8px;
  }
  #shopify-section-{{ section.id }} .package-protection .description .header {
    font-size: 15px;
    color: #000;
  }
  #shopify-section-{{ section.id }} .package-protection .description {
    white-space: nowrap;
  }
  #shopify-section-{{ section.id }} .package-protection .description .header-with-info {
    display: flex;
  }
  #shopify-section-{{ section.id }} .package-protection .description .header-with-info svg {
    width: 20px;
    height: auto;
  }
  #shopify-section-{{ section.id }} .package-protection .description .header-with-info .info-icon {
    margin-left: 5px;
  }
  #shopify-section-{{ section.id }} .package-protection .description .text {
    font-size: 12px;
    line-height: 1.15;
    color: #646464;
  }
  #shopify-section-{{ section.id }} .package-protection .description .text .so-package-protection-price {
    display: none;
  }
  #shopify-section-{{ section.id }} .so-package-protection-add-remove {
    display: none;
    margin-left: 5px;
  }
  /**https://www.cssscript.com/demo/csscss3-custom-checkboxes-radios-switches-el-checkbox/**/
  #shopify-section-{{ section.id }} .so-package-protection-add-remove + .toggler-checkbox {
    height: 1.6em;
    left: 0;
    -webkit-border-radius: 0.8em;
    border-radius: 0.8em;
    display: inline-block;
    position: relative;
    top: 0;
    -webkit-transition: all 0.3s ease-in-out;
    transition: all 0.3s ease-in-out;
    width: 3.5em;
    cursor: pointer;
    background: #ccddee;
}
#shopify-section-{{ section.id }} .so-package-protection-add-remove + .toggler-checkbox:after {
    content: "ON";
    display: none;
}
#shopify-section-{{ section.id }} .so-package-protection-add-remove + .toggler-checkbox:before {
    display: block;
    content: "";
    height: 1.4em;
    position: absolute;
    width: 1.4em;
    background-color: #fff;
    -webkit-border-radius: 50%;
    border-radius: 50%;
    left: 0.1em;
    top: 0.1em;
    -webkit-transition: all 0.3s ease-in-out;
    transition: all 0.3s ease-in-out;
}
#shopify-section-{{ section.id }} .so-package-protection-add-remove:checked + .toggler-checkbox {
    background-color: #9DD7B5;
}
#shopify-section-{{ section.id }} .so-package-protection-add-remove:checked + .toggler-checkbox:before {
    left: auto;
    right: 1px;
}
#shopify-section-{{ section.id }} .so-package-protection-add-remove:checked + .toggler-checkbox:after {
    display: block;
    position: absolute;
    left: 4px;
    line-height: 1;
    font-size: 10px;
    color: #fff;
    font-weight: bold;
    top: 51%;
    transform: translateY(-50%);
}


/*!
 * Bootstrap v3.4.1 (https://getbootstrap.com/)
 * Copyright 2011-2019 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 *
 * BEGIN: ShineOn Bootstrap Modal Minimal CSS
 */
[role="button"] {
  cursor: pointer;
}
.fade {
  opacity: 0;
  -webkit-transition: opacity 0.15s linear;
  -o-transition: opacity 0.15s linear;
  transition: opacity 0.15s linear;
}
.fade.in {
  opacity: 1;
}
.collapse {
  display: none;
}
.collapse.in {
  display: block;
}
tr.collapse.in {
  display: table-row;
}
tbody.collapse.in {
  display: table-row-group;
}
.collapsing {
  position: relative;
  height: 0;
  overflow: hidden;
  -webkit-transition-property: height, visibility;
  -o-transition-property: height, visibility;
  transition-property: height, visibility;
  -webkit-transition-duration: 0.35s;
  -o-transition-duration: 0.35s;
  transition-duration: 0.35s;
  -webkit-transition-timing-function: ease;
  -o-transition-timing-function: ease;
  transition-timing-function: ease;
}
.close {
  float: right;
  font-size: 21px;
  font-weight: bold;
  line-height: 1;
  color: #000000;
  text-shadow: 0 1px 0 #ffffff;
  filter: alpha(opacity=20);
  opacity: 0.2;
}
.close:hover,
.close:focus {
  color: #000000;
  text-decoration: none;
  cursor: pointer;
  filter: alpha(opacity=50);
  opacity: 0.5;
}
button.close {
  padding: 0;
  cursor: pointer;
  background: transparent;
  border: 0;
  -webkit-appearance: none;
  appearance: none;
}
.modal-open {
  overflow: hidden;
}
.so-modal {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1050;
  display: none;
  overflow: hidden;
  -webkit-overflow-scrolling: touch;
  outline: 0;
  font-size: 16px;
  z-index: 999999999;
  overflow-y: scroll;
  padding-right: 0 !important;
}
.so-modal .so-modal-header {
  position: relative;
}
.so-modal.fade .so-modal-dialog {
  -webkit-transform: translate(0, -25%);
  -ms-transform: translate(0, -25%);
  -o-transform: translate(0, -25%);
  transform: translate(0, -25%);
  -webkit-transition: -webkit-transform 0.3s ease-out;
  -o-transition: -o-transform 0.3s ease-out;
  transition: transform 0.3s ease-out;
}
.so-modal.in .so-modal-dialog {
  -webkit-transform: translate(0, 0);
  -ms-transform: translate(0, 0);
  -o-transform: translate(0, 0);
  transform: translate(0, 0);
}
.so-modal-open .so-modal {
  overflow-x: hidden;
  overflow-y: auto;
}
.so-modal-dialog {
  position: relative;
  width: auto;
}
.so-modal-backdrop {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1040;
  background-color: rgba(1, 15, 44, 0.91);
}
.so-modal-backdrop.fade {
  filter: alpha(opacity=0);
  opacity: 0;
}
.so-modal-backdrop.in {
  filter: alpha(opacity=50);
  opacity: 1;
}
.so-modal-header .close {
  margin-top: -2px;
}
.so-modal-title {
  margin: 0;
  line-height: 1.42857143;
}
.so-modal-body {
  position: relative;
  background-color: #fff;
  padding: 20px 30px;
}
.so-modal-body .content-header {
  display: flex;
  align-items: center;
  font-size: 24px;
}
.so-modal-footer {
  padding: 0 15px 15px 15px;
  text-align: right;
}
.so-modal-footer .btn + .btn {
  margin-bottom: 0;
  margin-left: 5px;
}
.so-modal-footer .btn-group .btn + .btn {
  margin-left: -1px;
}
.so-modal-footer .btn-block + .btn-block {
  margin-left: 0;
}
.so-modal-scrollbar-measure {
  position: absolute;
  top: -9999px;
  width: 50px;
  height: 50px;
  overflow: scroll;
}
@media (min-width: 992px) {
  .so-modal-dialog {
    width: 600px;
    margin-left: auto;
    margin-right: auto;
  }
  .so-modal-content {
    -webkit-box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
  }
  .so-modal-sm {
    width: 420px;
  }
}
@media (min-width: 992px) {
  .so-modal-lg {
    width: 900px;
  }
}
.clearfix:before,
.clearfix:after,
.so-modal-header:before,
.so-modal-header:after,
.so-modal-footer:before,
.so-modal-footer:after {
  display: table;
  content: " ";
}
.clearfix:after,
.so-modal-header:after,
.so-modal-footer:after {
  clear: both;
}
/* END * BEGIN: ShineOn Bootstrap Modal Minimal CSS */


/* BEGIN: Center Modal */
@media (min-width: 992px) {
  .so-modal {
    text-align: center;
    padding: 0 !important;
    line-height: 1.5;
  }
  .so-modal:before {
    content: '';
    display: inline-block;
    height: 100%;
    vertical-align: middle;
    margin-right: -4px;
  }
  .so-modal-dialog {
    display: inline-block;
    text-align: left;
    vertical-align: middle;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .so-modal-dialog {
    max-width: 357px;
  }
}
@media (max-width: 991px) {
  .so-modal-dialog.so-modal-box {
    left: 50%;
    transform: translateX(-50%) !important;
    margin-bottom: 40px;
    margin-top: 50px;
  }
}
@media (max-width: 767px) {
  .so-modal-dialog.so-modal-box {
    max-width: 80%;
  }
}
@media (min-width: 321px) and (max-width: 767px) {
  .so-modal-dialog {
    padding-right: 15px;
    padding-left: 15px;
  }
}
/* END: Center Modal */
.so-modal .so-modal-header .close {
  margin: 0;
  position: absolute;
  text-shadow: none;
  opacity: 1;
  z-index: 10;
  width: 32px;
  height: 32px;
  min-height: 0;
  border: 2px solid #fff;
  transform: rotate(45deg);
  box-shadow: 0 5px 50px 0 rgba(0, 0, 0, 0.2);
  border-radius: 100%;
  right: 0;
}
@media (min-width: 992px) {
  .so-modal .so-modal-header .close {
    top: -50px;
  }
}
@media (max-width: 991px) {
  .so-modal .so-modal-header .close {
    top: -40px;
  }
}
@media (max-width: 767px) {
  .so-modal .so-modal-header .close {
    top: -36px;
  }
}
.so-modal .so-modal-header .close:after,
.so-modal .so-modal-header .close:before {
  content: "";
  position: absolute;
  background-color: #fff;
}
.so-modal .so-modal-header .close:after {
  width: 16px;
  height: 2px;
  top: 50%;
  margin-top: -1px;
  left: calc(50% - 8px);
}
.so-modal .so-modal-header .close:before {
  height: 16px;
  width: 2px;
  left: 50%;
  margin-left: -1px;
  top: calc(50% - 8px);
}
/***** 3255 AfterPay *****/
.afterpay-paragraph {
  width: 100%;
  flex: 0 0 100%;
  font-size: 12px;
  display: none;
}
/***** /. 3255 AfterPay *****/
.so-cart-addon__toggle {
  min-height: 0;
  justify-content: flex-start;
  -webkit-justify-content: flex-start;
}
.gift-wrap-addon-w {
  display: flex;
  align-items: center;
  justify-content: flex-end;
}
.gift-wrap-addon {
  width: 16px;
  fill: #63c110;
}
</style>

<div id="so-loading"
  style="display: none; /*background: url('{{ 'theme-shineon-ajax-loader.gif' | asset_url }}') 50% 50% no-repeat rgba(255,255,255,.7);*/"></div>

{% if cart.item_count > 0 and section.settings.callout_visibility and section.settings.callout_text %}

<div class="so-cart-callout">
  <div class="container">
    <p class="d-flex align-center unstyled">
      {% if section.settings.callout_image != null %}
        {% assign line_height = section.settings.regular_font_size | times: 1.6 %}
        {% assign img_size = 'x' | append: line_height %}
        <img src="{{ section.settings.callout_image | img_url: img_size }}"
          alt="{{ section.settings.callout_image.alt }}"
          class="so-cart-callout-img"/>
      {% else %}
        <span class="so-cart-callout-icon theme-shineon-sprite callout-fire"></span>
      {% endif %}
      {% if section.settings.callout_text.size > 0  %}
      <span class="so-cart-callout-text">
        {{ section.settings.callout_text }}
      </span>
      {% endif %}
    </p>
  </div>
</div>
<!-- /.cart-callout -->

{% endif %}

<div class="page-width {{ section.id }}"
  data-section-id="{{ section.id }}"
  data-section-type="cart-template">

  {% if cart.item_count > 0 %}

    <div class="visibble-md-up">
      <div class="cart-page-heading{% if section.settings.show_items_quantity != true %} cart-expire-only{% endif %}">
        {% if section.settings.show_items_quantity != false %}
        <h1 class="cart-page-title">{{ 'items_with_count_html' | t: count: cart.item_count }}</h1>
        {% endif %}

        {% if section.settings.cart_timer_enable %}
        <div class="cart-expire-counting">
          <p class="cart-timer"><span class="cart-timer--text">{{ 'cart_expire_1107' | t }}</span> <span id="cartTimer" class="cart-timer--time style colorDefinition size_sm">00:00</span> {{ 'cart_expire_minutes_1107' | t }}</p>
        </div>
        {% endif %}
      </div>
    </div>

    <form action="/cart" method="post" novalidate id="so-cart-form" class="cart so-cart-shineon-form{% if section.settings.cart_grid_type == 'newest' %} newest-style{% endif %}"{% if section.settings.cart_grid_type != 'newest' %} style="background-color: #fff; border: 1px solid #e8e9eb;"{% endif %}>

      <div class="visibble-md-down">
        <div class="cart-form-header">
          {% assign total_saving = 0 %}
          {% for item in cart.items %}
            {% if item.variant.compare_at_price > item.variant.price %}
              {% assign saving = item.variant.compare_at_price | minus: item.variant.price | times: item.quantity %}
              {% assign total_saving = saving | plus: total_saving %}
            {% endif %}
          {% endfor %}
          {% if total_saving > 0 %}
          <div class="you_save">
            <span>{{ 'you_save' | t }}</span>
            <span class="diff_price">{{ total_saving | money }}</span>
          </div>
          {% endif %}

          <div class="cart-page-heading{% if section.settings.show_items_quantity != true %} cart-expire-only{% endif %}">
            {% if section.settings.show_items_quantity != false %}
            <h1 class="cart-page-title">{{ 'items_with_count_html' | t: count: cart.item_count }}</h1>
            {% endif %}

            {% if section.settings.cart_timer_enable %}
            <div class="cart-expire-counting">
              <p class="cart-timer"><span class="cart-timer--text">{{ 'cart_expire_1107' | t }}</span> <span id="cartTimerMobile" class="cart-timer--time style colorDefinition size_sm">00:00</span> {{ 'cart_expire_minutes_1107' | t }}</p>
            </div>
            {% endif %}
          </div>

          <button class="btn so-proceed-checkout-btn">
            <span class="so_nobreak">
              {% include 'shineon-app-icons' with 'fa-lock-alt' %}
            </span>
            <span class="checkout-title">{{ 'proceed_to_checkout_button_text' | t }}</span>
            <span class="so_nobreak">
              {% include 'shineon-app-icons' with 'fa-long-arrow-right' %}
            </span>
          </button>

          {% if hide_free_shipping == true %}
            <div class="non-free-shipping">
          {% endif %}
          {% if free_shipping == true %}
            {% include 'product-info-shineon' with 'free-shipping' %}
          {% endif %}
          {% if hide_free_shipping == true %}
            </div>
          {% endif %}
        </div>
      </div>

      <div id="so-cart-items" class="so-cart-items">

        {% assign total_saving = 0 %}
        {% assign free_shipping = false %}
        {% assign cart_products_total = 0 %}

        {% assign addons = null | sort %}
        {% assign product_addons = null | sort %}

        {% for cart_item in cart.items %}
          {% assign cart_item_addons = cart_item.product.metafields.shineon.addons.value | default: cart_item.product.metafields.shineon.addons %}
          {% assign cart_addons = cart_item_addons.items | where: 'type', 'cart_addon' %}
          {% assign cart_item_product_addons = cart_item_addons.items | where: 'type', 'product_addon' %}
          {% assign cart_item_product_addons_in_prop = cart_item_addons.items | where: 'type', 'product_addon_in_prop' %}
          {% assign cart_item_product_addons = cart_item_product_addons | concat: cart_item_product_addons_in_prop %}


          {% for addon in cart_addons %}
            {% assign exists = addons | where: 'handle',  addon.handle %}
            {% unless exists.first %}
              {% assign _addon = addon | sort %}
              {% assign addons = addons | concat: _addon %}
            {% endunless %}
          {% endfor %}

          {% for addon in cart_item_product_addons %}
            {% assign _addon = addon | sort %}
            {% assign product_addons = product_addons | concat: _addon %}
          {% endfor %}
        {% endfor %}

        {% assign cart_addon_handles = addons | map: 'handle' %}
        {% assign product_addon_handles = product_addons | map: 'handle' %}

        {% for item in cart.items %}
          {% assign addon_gift_wrap = false %}
          {% for p in item.properties %}
            {% if p.first contains '_Addon | handle' %}
              {% assign addon_gift_wrap = all_products[p.last] %}
            {% endif %}
          {% endfor %}
          {% assign package_protection_enabled_variant = false %}
          {% assign sweetest_product_design = false %}
          {% assign order_product_addon = false %}

          {% assign this_is_warranty_product = false %}
          {% if item.key contains warranty_prod.variants[0].id and section.settings.warranty_design == 'cro-tested' %}
            {% assign this_is_warranty_product = true %}
          {% endif %}

          {% unless item.product.id contains warranty_prod.id and item.product.id contains package_protection_prod.id %}
            {% assign cart_products_total = item.variant.price | times: item.quantity %}
          {% endunless %}

          {% comment %}check if line item has 'hide-from-list'. Hide it from list_items{% endcomment %}
          {% assign hide_from_list = false %}
          {% for tag in item.product.tags %}
            {% if tag == "hide-from-list" %}
              {% assign hide_from_list = true %}
            {% endif %}
          {% endfor %}

          {% comment %}Order product addons below main products{% endcomment %}
          {% for product_addon_handle in product_addon_handles %}
            {% if item.product.handle == product_addon_handle %}
              {% assign order_product_addon = true %}
            {% endif %}
          {% endfor %}

          {% assign addon = cart_addons | where: 'handle', item.product.handle %}
          {% if addon.first.cart_line_item_hidden == true %}
            {% assign hide_from_list = true %}
          {% endif %}

          {% assign addon = product_addons | where: 'handle', item.product.handle %}
          {% if addon.first.cart_line_item_hidden == true %}
            {% assign hide_from_list = true %}
          {% endif %}

          {% if item.variant.metafields.shineon.ipcs contains 'E060S' or item.variant.metafields.shineon.ipcs contains 'E060SG' or item.variant.metafields.shineon.ipcs contains 'C30102' %}
            {% assign sweetest_product_design = true %}
          {% endif %}

          {% if item.variant.compare_at_price > item.variant.price %}
            {% assign saving = item.variant.compare_at_price | minus: item.variant.price | times: item.quantity %}
            {% assign total_saving = saving | plus: total_saving %}
          {% endif %}

          {% assign switch_added_to_page_data = 0 %}
          {% for tag in item.product.tags %}
            {% if tag == section.settings.tag_switch %}
              {% assign switch_added_to_page_data = 1 %}
            {% endif %}
            {% if shop.metafields.shineon.is_shineon_brand == true and shop.metafields.shineon.is_shineon_brand != blank %}
              {% if tag == settings.free_shipping_tag %}
                {% assign free_shipping = true %}
              {% endif %}
            {% endif %}
            {% if tag == 'package_protection' %}
              {% assign package_protection_enabled_variant = true %}
            {% endif %}
          {% endfor %}

          {% unless package_protection_enabled_variant %}
            <div class="so-cart-item
                  {% if item.product.tags contains section.settings.addon_tag_to_detect or order_product_addon == true %}so-cart-item--addon-product{% endif %}
                  line{{ forloop.index }} so-cart-flex
                  {% if hide_from_list == true %} so-hidden{% endif %}
                  {% if this_is_warranty_product != false %} so-cart-item-warranty{% endif %}"
                  data-handle="{{ item.product.handle }}"
                  item-key="{{ item.key }}"
                  data-ipcs="{{ item.variant.metafields.shineon.ipcs }}"
                  data-switch="{{ switch_added_to_page_data }}"
                  data-line="{{ forloop.index }}"
                  data-free-shipping="{% if free_shipping == true %}1{% else %}0{% endif %}"
                  {% if addon_gift_wrap %}addon-gift-wrap="1"{% endif %}>
            {% if this_is_warranty_product != false %}
              <div class="so-cart-image" style="max-width:30px;max-height:30px;margin-bottom: auto;">
                {% include 'shineon-app-icons' with 'warranty-image-new' %}
              </div>
            {% else %}
              <div class="so-cart-image">
                <img src="{{ item | img_url: 'x150' }}">
              </div>
            {% endif %}

            {% assign loox_tags_stats = shop.metafields.loox["tags_stats"].value | default: shop.metafields.loox["tags_stats"] %}
            {% assign looxstats = shop.metafields.loox["global_stats"] | split: ',' %}
            {% assign loox_tag = item.product.tags | where : 'lx-' | join: ',' %}
            {% assign loox_num = loox_tags_stats[loox_tag]['num'] %}
            {% if section.settings.show_loox_count %}
              {% assign loox_average = 5 %}
            {% else %}
              {% assign loox_average = loox_tags_stats[loox_tag]['avg'] | plus: 0 | round %}
            {% endif %}

            <div class="so-cart-item-info">


              <div class="title-price">
                <div class="so-cart-meta{% if loox_tag != blank or section.settings.show_loox_count %} with-rating{% endif %}">
                  <div class="list-view-item__title">

                    <a{% if item.url != null and item.url != '' and this_is_warranty_product == false %} href="{{ item.url }}"{% endif %} class="so-product-title" {% if this_is_warranty_product == true %}style="text-transform: capitalize;"{% endif %}>
                      {% if this_is_warranty_product == true %}
                        {{ 'cart_warranty_title_html' | t }}
                      {% else %}
                        {{ item.product.title | truncatewords: 8 }}
                      {% endif %}
                    </a>
                  </div>
                  {% assign hide_rating = false %}
                  {% assign excluded_tags = section.settings.loox_excluded_tags | split: ',' %}

                  {% if excluded_tags != blank %}
                    {% for excluded_tag in excluded_tags %}
                      {% if item.product.tags contains excluded_tag %}
                        {% assign hide_rating = true %}
                      {% endif %}
                    {% endfor %}
                  {% endif %}
                  {% if hide_rating == false and loox_average == 5 %}
                    <div class="shop-rating">
                      {% if shop.metafields.loox["global_stats"] and item.product.metafields.loox.num_reviews != null %}
                        {% for loox_star in (1..loox_average) %}
                        <i class="loox-icon loox-star"></i>
                        {% endfor %}
                      {% else %}
                        {% for loox_star in (1..loox_average) %}
                        {% include 'shineon-app-icons' with 'star-rating' %}
                        {% endfor %}
                      {% endif %}
                      {% unless shop.metafields.shineon.is_shineon_brand == true and shop.metafields.shineon.is_shineon_brand %}
                        {% if section.settings.show_loox_count == true %}
                          {% if item.product.metafields.loox.num_reviews %}
                            {% assign loox_num = item.product.metafields.loox.num_reviews %}
                          {% endif %}
                          <script type="text/javascript">
                            document.addEventListener("DOMContentLoaded", function(event) {
                              jQuery( document ).ready(function($) {
                                setTimeout(function ()
                                {
                                  $.ajax("https://shineon.com/pages/reviews-loox-all", {
                                    success: function(response) {
                                      var loox_tag = "{{ item.product.tags | where : 'lx-' | join: ',' }}";
                                      if (loox_tag)
                                      {
                                        var loox_product_tags_lx = JSON.parse(response.split('@@@loox_tags_stats_start')[1].split('@@@loox_tags_stats_end')[0]);
                                        if (loox_product_tags_lx && loox_product_tags_lx[loox_tag])
                                        {
                                          $('.so-cart-item.line{{ forloop.index }} .shop-rating-count_for_app_inner').text(loox_product_tags_lx[loox_tag].num);
                                          $('.so-cart-item.line{{ forloop.index }} .shop-rating-count_for_app').removeClass('hide');
                                          $('.so-cart-item.line{{ forloop.index }} .shop-rating-count').addClass('hide');
                                        }
                                      }
                                    }
                                  });
                                });
                             }, 3500);
                            });
                          </script>
                          <span class="shop-rating-count_for_app hide">(<span class="shop-rating-count_for_app_inner"></span>)</span>
                        {% endif %}
                      {% endunless %}
                      {% if section.settings.show_loox_count and loox_num %}
                        <span class="shop-rating-count">({{ loox_num }})</span>
                      {% endif %}
                    </div>
                  {% endif %}
                  {% if section.settings.grid_type == 'regular' %}
                  <div class="d-flex align-center">
                    <div class="so-cart-price">
                      <div class="so-cart-lineprice">
                        <span class="money">{{ item.line_price | money }}</span>
                      </div>

                      {% for discount in item.discounts %}
                        <div class="so-cart-item-discount">{{ discount.title }}</div>
                      {% endfor %}
                    </div>

                    <div class="so-cart-qty so-hidden">
                      <span class="so-quantity-icon so-product-minus">
                        {% include 'shineon-app-icons' with 'minus' %}
                      </span>
                      <label for="updates_{{ item.id }}" class="so-hidden"></label>
                      <input type="text" min="1" size="2" class="so-cart-qty-input" name="updates[]" id="updates_{{ item.id }}" value="{{ item.quantity }}" pattern="[0-9]*">
                      <span class="so-quantity-icon so-product-plus">
                        {% include 'shineon-app-icons' with 'plus' %}
                      </span>
                    </div>
                  </div>
                  {% endif %}
                  {% if section.settings.cart_properties_type == 'newest' %}
                    <div class="cart__meta-text">
                      {% assign variant_title_to_lowercase = item.variant.title | downcase %}
                      {% unless variant_title_to_lowercase contains 'default' %}
                        {% for option in item.product.options %}
                          {% assign empty_engraving = false %}
                          {% if item.variant.metafields.shineon.engravable == 0 and item.variant.options[forloop.index0] == 'No' %}
                            {% assign empty_engraving = true %}
                          {% endif %}
                          {% if empty_engraving != true %}
                          <p>
                            <span class="label">
                              {% assign label_trans = 'item_option_' | append: option | handleize | t %}
                              {% if label_trans contains 'translation missing' %}
                                {{ option }}:
                              {% else %}
                                {{ label_trans }}:
                              {% endif %}
                            </span>
                            {{ item.variant.options[forloop.index0] }}
                          </p>
                          {% endif %}
                        {% endfor %}
                      {% endunless %}

                      {%- assign property_size = item.properties | size -%}
                      {% assign first_coming = true %}
                      {% if property_size > 0 %}

                        {% assign props_not_empty = false %}
                        {% for p in item.properties %}
                          {% if p.last != blank %}
                            {% unless p.last contains '_analytics_' or p.first contains 'Upload' %}
                              {% assign props_not_empty = true %}
                            {% endunless %}
                          {% endif %}
                          {% comment %} Close brackets if item is last in a cycle {% endcomment %}
                          {% if forloop.last and forloop.length > 1 and props_not_empty %}
                            {% unless p.first contains 'Line' or p.first contains 'line' %}
                              <span class="close_bracket">]</span>
                            {% endunless%}
                          {% endif %}
                          {% liquid
                            assign first_char = p.first | slice: 0
                            if first_char == '_'
                              continue
                            endif
                          %}

                          {% comment %} Create initial title variable to compare with current title of options {% endcomment %}
                          {% if forloop.first %}
                              {% assign last_title = p.first | strip | split: '-' %}
                          {% endif %}
                          {% if p.first contains 'Upload' %}
                            {% continue %}
                          {% endif %}
                          {% unless p.last == blank %}
                            {% assign hidden = false %}
                            {% comment %} Compare our buffer with current title {% endcomment %}
                              {% if p.first contains last_title.first %}
                                {% if first_coming == true %}
                                {% comment %} Draw first main title for list {% endcomment %}
                                <p class="property__item">
                                {% comment %} or coma to next list item {% endcomment %}
                                {% else %}
                                  <span class="coma">,</span>
                                {% endif %}
                              {% elsif item.variant.metafields.shineon.ipcs contains 'A1013T' or item.variant.metafields.shineon.ipcs contains 'E035T' %}
                              {% if first_coming == true %}
                                {% comment %} Draw first main title for list {% endcomment %}
                                <p class="property__item">
                                {% comment %} or coma to next list item {% endcomment %}
                                {% else %}
                                  <span class="coma">,</span>
                                {% endif %}
                              {% else %}
                                {% comment %} Draw close bracket to finish list and init next option line{% endcomment %}
                                {% if p.first contains '-' %}
                                  {% unless p.first contains 'Line' or p.first contains 'line' %}
                                    <span class="close_bracket">]</span>
                                  {% endunless %}
                                {% endif %}
                                </p>
                                {% assign first_coming = true %}
                                {% comment %} Remove numberic count from repeatable title {% endcomment %}
                                {% assign last_title = p.first | strip | split: '-' %}
                                <p class="property__item">
                              {% endif %}
                              {% if first_coming == true %}
                              <span class="label">
                                {% assign item_generated_properties = item.variant.metafields.shineon.generated_properties.value | default: item.variant.metafields.shineon.generated_properties %}
                                {% if item_generated_properties.size > 0 %}
                                  {% for input in item_generated_properties.inputs %}
                                    {% assign prop_label = last_title.first | capitalize %}
                                    {% if item.variant.metafields.shineon.ipcs contains 'E035T' %}
                                      {% assign prop_label = "Sides" %}
                                    {% endif %}
                                    {% if input.name == p.first %}
                                      {% if input.type == 'none' %}
                                        {% assign hidden = true %}
                                        {% break %}
                                      {% endif %}
                                      {% for locale in input.locales %}
                                        {% if shop.locale contains locale[0] %}
                                          {% assign prop_label = locale[1].label %}
                                        {% endif %}
                                      {% endfor %}
                                    {% endif %}
                                  {% endfor %}
                                  {% if p.first contains 'Engraving Line' %}
                                    {{ p.first }}:
                                  {% else %}
                                  {{ prop_label }}:
                                  {% endif %}
                                {% else %}
                                  {% assign label_trans = 'item_property_' | append: p.first | handleize | t %}
                                  {% if label_trans contains 'translation missing' %}
                                    {{ last_title.first | capitalize }}:
                                  {% else %}
                                    {{ label_trans }}:
                                  {% endif %}
                                {% endif %}
                              </span>
                              {% endif %}
                              {% comment %}
                                Check if there was an uploaded file associated
                              {% endcomment %}
                              {% comment %} Draw list of option list items {% endcomment %}
                              {% if first_coming == true and forloop.length > 1 %}
                                {% unless p.first contains 'Line' or p.first contains 'line' %}
                                  {% assign first_coming = false %}
                                  {% comment %} Open brackets if list is started {% endcomment %}
                                  <span class="open_bracket">[</span>
                                {% endunless %}
                              {% endif %}
                              {% if p.last contains '/uploads/' %}
                                <a class="value" href="{{ p.last }}">{{ p.last | split: '/' | last }}</a>
                              {% elsif item.variant.metafields.shineon.ipcs contains 'A1013T' and item.variant.metafields.shineon.product_template_id == 822 %}
                                <span class="value">{{ p.first }} - {{ p.last }}</span>
                              {% else %}
                                {% unless p.last contains "nbsp;" and sweetest_product_design == true %}
                                  {% if hidden == false %}
                                    <span class="value">{{ p.last }}</span>
                                  {% endif %}
                                {% endunless %}
                              {% endif %}

                              {% if p.last contains "nbsp;" and sweetest_product_design == true %}
                                <span class="value">{{ 'cart_modern_view_space' | t }}</span>
                              {% endif %}
                          {% endunless %}
                        {% endfor %}
                      {% endif %}
                    </div>
                  {% else %}
                    <div class="cart__meta-text">
                      {% if this_is_warranty_product != false %}
                        {{ 'cart_warranty_subtitle' | t }}
                      {% endif %}
                      {% assign variant_title_to_lowercase = item.variant.title | downcase %}
                      {% unless variant_title_to_lowercase contains 'default' %}
                        {% for option in item.product.options %}
                          {% assign empty_engraving = false %}
                          {% if item.variant.metafields.shineon.engravable == 0 and item.variant.options[forloop.index0] == 'No' %}
                            {% assign empty_engraving = true %}
                          {% endif %}
                          {% if empty_engraving != true %}
                          <p>
                            <span class="label">
                              {% assign label_trans = 'item_option_' | append: option | handleize | t %}
                              {% if label_trans contains 'translation missing' %}
                                {{ option }}:
                              {% else %}
                                {{ label_trans }}:
                              {% endif %}
                            </span>
                            {{ item.variant.options[forloop.index0] }}
                          </p>
                          {% endif %}
                        {% endfor %}
                      {% endunless %}

                      {%- assign property_size = item.properties | size -%}
                      {% if property_size > 0 %}

                        {% for p in item.properties %}
                          {% assign with_addon = false %}
                          {% liquid
                            assign first_char = p.first | slice: 0
                            if first_char == '_'
                              continue
                            endif
                          %}

                          {% if p.first contains 'Upload' %}
                            {% continue %}
                          {% endif %}
                          {% unless p.last == blank %}
                            {% assign hidden = false %}
                            <p {% if p.first contains '+ ' %}class="addon-related" addon-related-key="{{ item.key }}"{% endif %}>
                              <span class="label">
                                {% assign item_generated_properties = item.variant.metafields.shineon.generated_properties.value | default: item.variant.metafields.shineon.generated_properties %}
                                {% if item_generated_properties %}
                                  {% for input in item_generated_properties.inputs %}
                                    {% assign prop_label = p.first %}
                                    {% if input.name == p.first %}
                                      {% if input.type == 'none' %}
                                        {% assign hidden = true %}
                                        {% break %}
                                      {% endif %}
                                    {% endif %}
                                    {% assign is_locale_correct = false %}
                                    {% if input.locales and input.name == p.first %}
                                      {% assign prop_label = input.name %}
                                      {% for locale in input.locales %}
                                        {% if shop.locale == locale[0] %}
                                          {% assign prop_label = locale[1].label %}
                                          {% assign is_locale_correct = true %}
                                          {{ prop_label }}:
                                        {% endif %}
                                      {% endfor %}
                                      {% unless is_locale_correct %}
                                        {{ prop_label }}:
                                      {% endunless %}
                                    {% else %}
                                      {% if input.name == p.first %}
                                        {% assign label_trans = 'item_property_' | append: p.first | handleize | t %}
                                        {% if p.first contains 'Metal Art | ' %}
                                          {% assign label_trans = p.first | replace: 'Metal Art |' , '' %}
                                        {% endif %}
                                        {% if label_trans contains 'translation missing' %}
                                          {{ p.first }}:
                                        {% else %}
                                          {{ label_trans }}:
                                        {% endif %}
                                      {% endif %}
                                    {% endif %}
                                  {% endfor %}
                                {% else %}
                                  {% assign label_trans = 'item_property_' | append: p.first | handleize | t %}
                                  {% if p.first contains 'Metal Art | ' %}
                                    {% assign label_trans = p.first | replace: 'Metal Art |' , '' %}
                                  {% endif %}
                                  {% if label_trans contains 'translation missing' %}
                                    {{ p.first }}:
                                  {% else %}
                                    {{ label_trans }}:
                                  {% endif %}
                                {% endif %}
                                {% if p.first contains '+ ' %}
                                  {% assign with_addon = true %}
                                  {{ p.first | replace: '+ ', '' }}:
                                {% endif %}
                              </span>
                              {% comment %}
                                Check if there was an uploaded file associated
                              {% endcomment %}
                              {% if p.last contains '/uploads/' %}
                                <a href="{{ p.last }}">{{ p.last | split: '/' | last }}</a>
                              {% else %}

                                {% unless p.last contains "nbsp;" and sweetest_product_design == true %}
                                  {% if hidden == false %}
                                    <span>{{ p.last }}</span>
                                  {% endif %}
                                {% endunless %}
                              {% endif %}

                              {% if p.last contains "nbsp;" and sweetest_product_design == true %}
                              <span></span>
                              {% endif %}
                            </p>
                          {% else %}
                            {% if p.first contains '+ ' %}
                              <p class="addon-related" addon-related-key="{{ item.key }}">
                                <span {% unless p.last == blank %}class="label"{% endunless %}>
                                  {{ p.first }}{% unless p.last == blank %}:{% endunless %}
                                </span>
                                {% unless p.last == blank %}
                                <span>{{ p.last }}</span>
                                {% endunless %}
                              </p>
                            {% endif %}
                          {% endunless %}
                          {% if p.first contains '+ ' %}
                            <p class="addon-related" addon-related-key="{{ item.key }}"><span><a href="#" class="so-cart-remove-addon" data-hero-key="{{ item.key }}" data-addon-prop-name="{{ p.first }}">{{ 'remove' | t }} Gift Wrap</a></span></p>
                          {% endif %}
                        {% endfor %}
                      {% endif %}
                    </div>
                  {% endif %}
                  {% if section.settings.grid_type == 'newest' %}
                  <div class="so-cart-remove-wrap">
                    <a href="/cart/change?line={{ forloop.index }}&amp;quantity=0"
                      class="so-cart-remove">
                      {% include 'shineon-app-icons' with 'remove' %}
                      <span>{{ 'remove' | t }}</span>
                    </a>
                  </div>
                  {% endif %}
                </div>
              </div>


              {% if section.settings.grid_type == 'regular' %}
              <div class="so-cart-remove-wrap">
                <a href="/cart/change?line={{ forloop.index }}&amp;quantity=0"
                  class="so-cart-remove theme-shineon-sprite so-cart-remove-bg">
                </a>
              </div>
              {% endif %}

              {% if section.settings.grid_type == 'newest' %}
              <div class="price-quantity"{% if this_is_warranty_product != false %} style="flex:1 1 30%;justify-content: flex-end;"{% endif %}>
                <div class="item-quantity"{% if this_is_warranty_product != false %} style="display: none;"{% endif %}>
                  <div class="d-flex align-center">
                    <div class="so-cart-qty so-hidden">
                      <span class="so-quantity-icon so-product-minus">
                        {% include 'shineon-app-icons' with 'minus' %}
                      </span>
                      <label for="updates_{{ item.id }}" class="so-hidden"></label>
                      <input type="text" min="1" size="2" class="so-cart-qty-input" name="updates[]" id="updates_{{ item.id }}" value="{{ item.quantity }}" pattern="[0-9]*">
                      <span class="so-quantity-icon so-product-plus">
                        {% include 'shineon-app-icons' with 'plus' %}
                      </span>
                    </div>
                  </div>
                </div>

                <div class="item-price">
                  <div class="so-cart-price">
                    {% unless this_is_warranty_product == true %}
                    <p class="so-cart-lineprice-compare" data-price-compare="{{ item.variant.compare_at_price }}">{{ item.variant.compare_at_price | times: item.quantity | money }}</p>
                    {% endunless %}
                    <p class="so-cart-lineprice" data-price="{{ item.original_price }}">{{ item.line_price | money }}</p>
                    {% if addon_gift_wrap %}
                      <p class="so-cart-addon-price addon-related" addon-related-key="{{ item.key }}" data-price="{{ addon_gift_wrap.price }}">+ {{ addon_gift_wrap.price | times: item.quantity | money }}</p>
                      <div class="gift-wrap-addon-w addon-related" addon-related-key="{{ item.key }}">
                        <span style="margin-right:5px;display:inline-block">for</span>{% render 'shineon-app-icons' shineon-app-icons: 'gift-wrap' %}
                      </div>
                    {% endif %}

                    {% for discount in item.discounts %}
                      <div class="so-cart-item-discount">{{ discount.title }}</div>
                    {% endfor %}
                  </div>
                </div>
              </div>
              {% endif %}
            </div>
          </div>
          {% endunless %}
        {% endfor %}

        {% if section.settings.cart_grid_type == 'newest' %}
        <div class="text_usps" style="display: none;">
          <span>{{ 'callout_guarantee_text' | t }}</span>
          <span>{{ 'callout_secure_text' | t }}</span>
        </div>
        {% endif %}

        {% if section.settings.show_oreo_box %}
          {% comment %}CART ADD-ON{% endcomment %}
          <div class="so-cart-item so-cart-flex cart-item-addon so-cart-item--addon-oreo"{% if switch_added_to_page == true or is_oreo_box_needed != true %} style="display: none;"{% endif %}>

            {% if section.settings.show_cart_addon_ribbon == 'corner' %}
            <div class="callout-ribbon"></div>
            <span class="so-cart-callout-icon theme-shineon-sprite callout-fire"></span>
            {% endif %}

            <div class="so-cart-image">
              {% if section.settings.cart_addon_img != '' and section.settings.cart_addon_img != null %}
                <img src="{{ section.settings.cart_addon_img | img_url: 'x150' }}"
                alt="{{ 'customizer_cart_addon_text_1063_html' | t }}">
              {% else %}
                <img src="https://cdn.shopify.com/s/files/1/0077/2420/4096/files/regular-box-150.jpg?v=1605800609">
              {% endif %}
              {% if section.settings.cart_grid_type == 'newest' %}
              <p class="copy-below-addon-img"><span style=" background-color: {{ section.settings.copy_below_addon_image_bg }}; color: {{ section.settings.copy_below_addon_image_color }};">{{ 'customizer_cart_addon_badge_text_free' | t }}</span></p>
              {% endif %}
            </div>
            <div class="so-cart-item-info">
              <div class="title-price">
                <div class="so-cart-meta">
                  <div class="list-view-item__title">
                    <a{% if item.url != null and item.url != '' %} href="{{ item.url }}"{% endif %} class="so-product-title{% if section.settings.show_cart_addon_ribbon == 'in_title' %} with-ribbon{% endif %}">
                      {% if section.settings.show_cart_addon_ribbon == 'in_title' %}
                      <div class="theme-shineon-sprite callout-fire"></div>
                      {% endif %}
                      {{ 'customizer_cart_addon_text_1063_html' | t }}
                    </a>
                  </div>
                </div>
                <div class="item-price">
                  <div class="so-cart-price">
                    <p class="so-cart-lineprice-compare">
                      <span class="money">{{ section.settings.price_oreo_box | money }}</span>
                    </p>
                    <p class="so-cart-lineprice">{{ 'customizer_cart_addon_text_free' | t }}</p>
                  </div>
                </div>
              </div>

              <div class="price-quantity" style="display: none;">
                <div class="item-price">
                  <div class="so-cart-price">
                    <p class="so-cart-lineprice"><span class="so-cart-price-free">FREE</span><span class="so-strike-through">$10.00</span></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          {% comment %}END CART ADD-ON{% endcomment %}
        {% endif %}
      </div>

      <div id="so-cart-footer" class="so-cart-summary">

        {% if section.settings.cart_notes_enable %}
          <div>
            <label for="CartSpecialInstructions" class="cart-note__label small--text-center">Note</label>
            <textarea name="note" id="CartSpecialInstructions" class="cart-note__input">{{ cart.note }}</textarea>
          </div>
        {% endif %}

        {% if section.settings.show_summary_title == true %}
        <p class="summary-item header">
          {{ 'summary' | t }}
        </p>
        {% endif %}

        {% if section.settings.cart_grid_type == 'newest' %}
        <div id="cart_total-payment_btn-clone"></div>
        <div class="cart_total-payment_btn" style="background-color: {{ section.settings.total_payment_bg }};">
        {% endif %}

        <div class="cart-form-header">
          {% assign total_saving = 0 %}
          {% for item in cart.items %}
            {% if item.variant.compare_at_price > item.variant.price %}
              {% assign saving = item.variant.compare_at_price | minus: item.variant.price | times: item.quantity %}
              {% assign total_saving = saving | plus: total_saving %}
            {% endif %}
          {% endfor %}
          {% if total_saving > 0 %}
          <div class="you_save">
            <span>{{ 'you_save' | t }}</span>
            <span class="diff_price">{{ total_saving | money }}</span>
          </div>
          {% endif %}
        </div>

        <div class="summary-item wrap__cart_totals">

          <div class="center wrap__cart_totals_inner{% if free_shipping == true %} with-free-shipping{% endif %}{% if hide_free_shipping == true %} non-free-shipping-w{% endif %}">
            <p class="wrap__cart__subtotal">
              <span class="cart__title cart__subtotal-title">{{ 'subtotal_title' | t }} </span>
              <span class="so-cart-subtotal">
                <span class="money">{{ cart.total_price | money }}</span>{% if section.settings.enable_cart_currency %}{% endif %}
              </span>
            </p>
            {% if hide_free_shipping == true %}
              <div class="non-free-shipping">
            {% endif %}
            {% if free_shipping == true %}
              {% include 'product-info-shineon' with 'free-shipping' %}
            {% endif %}
            {% if hide_free_shipping == true %}
              </div>
            {% endif %}
          </div>

          {% if cart.total_discounts > 0 %}
            <div class="wrap__cart__discounts">
              <span class="cart__title cart__discounts-title">{{ 'cart_discounts' | t }}</span>
              <span class="cart__discounts">
                <span class="money">{{ cart.total_discounts | money }}</span>
              </span>
            </div>
          {% endif %}
        </div>

        {% if section.settings.show_payment_methods_top %}
          <div class="so-payment-methods">
            {% for type in shop.enabled_payment_types %}
              <img src="{{ type | payment_type_img_url }}" alt="{{ type | replace: "_", " " | capitalize }}" />
            {% endfor %}
          </div>
        {% endif %}

        {% if shop.metafields.shineon.is_shineon_brand == true and shop.metafields.shineon.is_shineon_brand != blank %}
        {% include 'product-info-shineon' with 'shop-pay-cart-divided-price' %}
        {% include 'product-info-shineon' with 'shop-pay-block' %}
        {% endif %}

        {% if shop.metafields.shineon.is_shineon_brand == true and shop.metafields.shineon.is_shineon_brand != blank %}
        <div class="so-package-protection-div">
          <label>
            <div class="package-protection">
              <div class="description-icon">
                <div class="icon">
                  {% include 'shineon-app-icons' with 'package-protection' %}
                </div>
                <div class="description">
                  <div class="header-with-info">
                    <p class="header">
                      {{ 'package_protection_header' | t }}
                      <span class="is-in-cart included" style="display: none;">{{ 'package_protection_included' | t }}</span>
                    </p>
                    <a href="#" class="info-icon">
                      {% include 'shineon-app-icons' with 'info' %}
                    </a>
                  </div>
                  <p class="text">{{ 'package_protection_text' | t }} <span class="so-package-protection-price">{{ package_protection_prod_cart_line.price | money }}</span></p>
                </div>
              </div>
              <input type="checkbox" name="so-package-protection-app" data-prod-id="{{ package_protection_prod.id }}" item-key="{{ package_protection_prod_cart_line.key }}" data-variant-id="{{ package_protection_prod.variants[0].id }}" class="so-package-protection-add-remove"{% if is_package_protection_prod != false %} checked="checked"{% endif %}>
              <span class="toggler-checkbox"></span>
            </div>
          </label>
        </div>
        {% endif %}

        {% liquid
          assign is_shineon_brand = false
          if shop.metafields.shineon.is_shineon_brand == true and shop.metafields.shineon.is_shineon_brand != blank
            assign is_shineon_brand = true
          endif
        %}

        <div class="so-proceed-checkout-wrap">
          {% unless is_shineon_brand %}
            {% include 'shineon-addons',
                    cart: cart,
                    placement: 'CartPage::Feature::Addons::AbovePTC',
                    type: 'cart_addon'
            %}
          {% endunless %}
          <div class="so-proceed-checkout-btn-wrap-below">
          {% unless is_shineon_brand %}
            <div class="route-div"></div>
          {% endunless %}
            <button class="btn so-proceed-checkout-btn">
              <span class="so_nobreak">
                {% include 'shineon-app-icons' with 'fa-lock-alt' %}
              </span>
              <span class="checkout-title">{{ 'proceed_to_checkout_button_text' | t }}</span>
              <span class="so_nobreak">
                {% include 'shineon-app-icons' with 'fa-long-arrow-right' %}
              </span>
            </button>

            {% unless section.settings.custom_text == blank %}
            <div class="so-cart-custom-text">
              {{ section.settings.custom_text }}
            </div>
            {% endunless %}
          </div>
          {% unless is_shineon_brand %}
            {% include 'shineon-addons',
                    cart: cart,
                    placement: 'CartPage::Feature::Addons::BelowPTC',
                    type: 'cart_addon'
            %}
          {% endunless %}
          {% if section.settings.show_payment_methods_bottom %}
            <div class="so-payment-methods">
              {% for type in shop.enabled_payment_types %}
                <img src="{{ type | payment_type_img_url }}" alt="{{ type | replace: "_", " " | capitalize }}" />
              {% endfor %}
            </div>
          {% endif %}

          {% if additional_checkout_buttons and section.settings.additional_checkout_buttons %}
            <p class="so-payment-or text-center">
              {{ 'checkout_button_or_addition' | t }}
            </p>
            <div class="so-additional-checkout-buttons so-center">
              {{ content_for_additional_checkout_buttons }}
            </div>
          {% endif %}
        </div>

        {% if section.settings.cart_grid_type == 'newest' %}
        </div><!-- cart_total-payment_btn -->
        {% endif %}

        {% if section.settings.payment_option_security_seal %}
        <div class="so-cart-flex so-security-seal so-center">
          <img class="so-img-responsive"
              src="{{ section.settings.payment_option_security_seal | img_url: '400x' }}" />
        </div>
        {% endif %}

        {% assign show_callouts_guarantee = false %}
        {% assign show_callouts_secure = false %}
        {% if section.settings.callout_guarantee_visibility == true and section.settings.callout_guarantee_text != '' %}
          {% assign show_callouts_guarantee = true %}
        {% endif %}
        {% if section.settings.callout_secure_visibility == true and section.settings.callout_secure_text != '' %}
          {% assign show_callouts_secure = true %}
        {% endif %}

        {% if show_callouts_guarantee == true or show_callouts_secure == true %}
        <div class="d-flex callouts-guarantee-secure">
          {% if section.settings.callout_guarantee_visibility == true and section.settings.callout_guarantee_text != '' %}
          <div class="flex-item callout-guarantee">
            <div class="d-flex">
              <div class="icon">
                {% if section.settings.callout_guarantee_image != null %}
                  <img src="{{ section.settings.callout_guarantee_image | img_url: 'grande' }}"
                    alt="{{ section.settings.callout_guarantee_image.alt }}">
                {% else %}
                  <span class="theme-shineon-sprite money-back"></span>
                {% endif %}
              </div>
              <p class="text">{{ 'callout_guarantee_text' | t }}</p>
            </div>
          </div>
          {% endif %}
          {% if section.settings.callout_secure_visibility == true and section.settings.callout_secure_text != '' %}
          <div class="flex-item callout-secure">
            <div class="d-flex">
              <div class="icon">
                {% if section.settings.callout_secure_image != null %}
                  <img src="{{ section.settings.callout_secure_image | img_url: 'grande' }}"
                    alt="{{ section.settings.callout_secure_image.alt }}">
                {% else %}
                  <span class="theme-shineon-sprite secure-checkout"></span>
                {% endif %}
              </div>
              <p class="text">{{ 'callout_secure_text' | t }}</p>
            </div>
          </div>
          {% endif %}
        </div>
        {% endif %}

      </div>

    </form>

    {% if section.settings.reviews_on_cart_page != 'none' %}
      {% if product.metafields.loox.reviews.size == null %}
        {% include 'product-shineon-image-slider-slick' %}
      {% endif %}
      <div class="reviews-cart-carousel">
        {% include 'product-info-shineon' with 'reviews' %}
      </div>
    {% endif %}

  {% else %}
    <div class="empty-page-content so-center">

      <h1>{{ 'cart_empty_title' | t }}</h1>
      <p class="cart--empty-message">{{ 'cart_empty_message' | t }}</p>
      <a{% if shop.metafields.shineon.is_shineon_brand == true and shop.metafields.shineon.is_shineon_brand != blank %} href="/"{% else %} href="/collections/all"{% endif %} class="btn btn--has-icon-after cart__continue-btn">{{ 'cart_continue_btn_copy' | t }}</a>

    </div>
  {% endif %}

  {% if shop.metafields.shineon.is_shineon_brand == true and shop.metafields.shineon.is_shineon_brand != blank %}
  {% include 'phone-number' %}
  {% endif %}
</div>

{% if shop.metafields.shineon.is_shineon_brand == true and shop.metafields.shineon.is_shineon_brand != blank %}
{% include 'product-info-shineon' with 'info-modal', product_handle: 'purchase-protection-route-replacement' %}
{% endif %}

<script>
  document.addEventListener("DOMContentLoaded", function() {
    (function($) {
      {% unless shop.metafields.shineon.is_shineon_brand == true and shop.metafields.shineon.is_shineon_brand != blank %}
      /*** Route app. Check if cart has it ***/
      var route_cart_item_key,
          is_route_in_cart = 0;
      {% for item in cart.items %}
        {% if item.vendor == "Route" %}
          route_cart_item_key = '{{ item.key }}';
          is_route_in_cart = 1;
        {% break %}
        {% endif %}
      {% endfor %}
      /*** ./ Route app. Check if cart has it ***/
      {% endunless %}
      var ShineOnCart = {
        cf: {
          localstorage_key_prefix: 'shineon_bu_',
          display_savings: false,
          {% if is_package_protection_prod != false %}
          packageProtectionProp: true,
          {% else %}
          packageProtectionProp: false,
          {% endif %}
          {% if is_warranty_prod_in_cart != false %}
          warrantyProp: false,
          {% else %}
          warrantyProp: false,
          {% endif %}
          packageProtectionProdKey: {{ package_protection_prod_cart_line.key | json }},
          packageProtectionCurrentVariantID: {{ package_protection_prod_cart_line.id | json }},
          packageProtectionProd: {{ all_products['purchase-protection-route-replacement'] | json }},
          warrantyCounter: {{ cart.item_count }},
          warrantyProd: {{ all_products['warranty'] | json }},
          shop_currency: '{{ shop.money_format }}'.replace('\{\{amount\}\}', ''),
          send_shineon_ga_data: !!window.gtm_id || !!'{{ shop.metafields.shineon.google_analytics_id }}'.trim(),
          lang: {
            proceed_to_checkout_button_text_suffix_items: '{{ 'proceed_to_checkout_button_text_suffix_items' | t }}'
          }
        },
        init: function () {
          this.cache();
          this.addSellerPixelsToCheckoutForm();
          this.updateItemQuantityText();
          this.renderBuyerUploadItemsImages();
          this.clearOldItemsOnLocalStorage();
          this.bindEvents();
          this.hacks();
          {% if shop.metafields.shineon.is_shineon_brand == true and shop.metafields.shineon.is_shineon_brand != blank %}
          this.reloadCartIfNoProducts();
          this.updateCartWithAddons(this.addonsUpdatedObj(this.updatedCart));
          this.moveWarrantyToBottomList();
          {% else %}
          /*** Route app ***/
          if (route_cart_item_key)
          {
            this.removeRoute();
          }
          this.removePackageProtectionIfNoProducts()
          /*** ./ Route app ***/
          {% endif %}

          window.ShineOnCart = this

          return this;
        },
        {% unless shop.metafields.shineon.is_shineon_brand == true and shop.metafields.shineon.is_shineon_brand != blank %}
        /*** Route app ***/
        removeRoute: function() {
          var self = this,
              data = {
                key: route_cart_item_key,
                quantity: 0
              };
          self.changeCartOnShopify(data);
        },
        /*** ./Route app ***/
        {% endunless %}
        reloadCartIfNoProducts: function() {
          var self = this,
              cart_items = self.cartProductsTotal(self.updatedCart);

          if (cart_items.quantity < 1)
          {
            self.clearCart();
          }
          else if(self.cart.items.length != 0)
          {
            self.enablePackageProtection();
          }
        },
        removePackageProtectionIfNoProducts: function () {
          if (this.cart && this.cart.items && this.cart.items.length === 1) {
            var possible_package_protection = this.cart.items.filter(function (item) { return item.handle === 'package-protection' && item.vendor.indexOf('ShineOn') > -1 })[0]
            if (possible_package_protection) {
              this.changeCartOnShopify({
                key: possible_package_protection.key,
                id: possible_package_protection.id,
                quantity: 0,
              })
            }
          }
        },
        moveWarrantyToBottomList: function() {
          var self = this,
              warrantyVariantID = self.cf.warrantyProd.variants[0].id;
          for (var i = 0; i < self.cart.items.length; i++) {
            var item = self.cart.items[i];
            if(item.key.includes(warrantyVariantID))
            {
              $($('#so-cart-items .so-cart-item[item-key="' + item.key + '"]')).insertBefore($('#so-cart-items .text_usps'));
            }
          }
        },
        enablePackageProtection: function() {
          var self = this,
              cart_items = self.cartProductsTotal(self.updatedCart),
              packageProtectionVariant = self.packageProtectionVariantFromSKUIndex(self.getPackageProtectionIndex(cart_items.total).variant_index);

          if (!self.cf.packageProtectionProp && cart_items.quantity >= 1)
          {
            var data = {
                  id: packageProtectionVariant.id,
                  quantity: 1
                };
            self.addPackageProtection(data);
          }
        },
        packageProtectionVariantFromSKUIndex: function(sku_index)
        {
          var self = this,
              so_pp_total_index = '{{ package_protection_sku_prefix }}' + sku_index,
              packageProtectionVariant;
          for (var i = 0; i < self.cf.packageProtectionProd.variants.length; i++) {
            var variant = self.cf.packageProtectionProd.variants[i],
                variant_sku = variant.sku;
            if (variant_sku == so_pp_total_index)
            {
              packageProtectionVariant = variant;
            }
          }
          return packageProtectionVariant
        },
        convertNichesToPixels: function(list) {
          {% assign shop_niches = shop.metafields.shineon.niches.value | default: shop.metafields.shineon.niches %}
          var pixels = {{ shop_niches | json }} || {}
          var converted = ["165845324007447"] // master pixel
          list.forEach(function(slug){
            if(pixels.hasOwnProperty(slug)) {
              converted.push(pixels[slug])
            }
          });

          return converted
        },
        addSellerPixelsToCheckoutForm: function() {

          var niche_pixels = [];

            for(key in this.variants) {
                if(this.variants.hasOwnProperty(key)) {
                    var variant = this.variants[key];
                    if(variant.hasOwnProperty('metafields')) {
                        if (variant.metafields.fb_pixel_id) {
                          this.el.$form.append("<input type='hidden' name='attributes-fb_pixel_id' value='" + variant.metafields.fb_pixel_id + "'>");
                        }
                        if (variant.metafields.ga_account_id) {
                          this.el.$form.append("<input type='hidden' name='attributes-ga_pixel_id' value='" + variant.metafields.ga_account_id + "'>");
                          // need this for ga pixel fire on purchase event
                          {% if shop.metafields.shineon.is_shineon_brand == true and shop.metafields.shineon.is_shineon_brand != blank %}
                          this.el.$form.append("<input type='hidden' name='attributes-shop-domain' value='{{ shop_domain }}'>");
                          {% else %}
                          this.el.$form.append("<input type='hidden' name='attributes-shop-domain' value='{{ shop.domain }}'>");
                          {% endif %}
                        }
                        if (variant.metafields.niche_recipient) {
                          niche_pixels.push(variant.metafields.niche_recipient);
                        }
                        if (variant.metafields.niche_general) {
                          niche_pixels.push(variant.metafields.niche_general);
                        }
                    }
                }
            }
            if(niche_pixels.length > 0) {
              var pixel_ids = this.convertNichesToPixels(niche_pixels);
              if(pixel_ids.length > 0) {
                this.el.$form.append("<input type='hidden' name='attributes-additional_fb_pixels' value='"+pixel_ids.join(',')+"'>")
              }
            }
        },
        cache: function () {
          this.cart = {{ cart | json }};
          this.updatedCart = this.cart;
          this.updatedCartPackage = this.cart;
          this.cartProductTotal = {{ cart_products_total }};
          this.variants = {};
          {% for item in cart.items %}
            {% assign item_variant_mentafields = item.variant.metafields.shineon.value | default: item.variant.metafields.shineon %}
            {% assign item_product_mentafields = item.product.metafields.shineon.value | default: item.product.metafields.shineon %}
            {% unless shop.metafields.shineon.is_shineon_brand == true and shop.metafields.shineon.is_shineon_brand != blank %}
              {% if item.vendor != "Route" %}
                this.variants[{{ item.variant_id }}] = {{ item.variant | json }};
                this.variants[{{ item.variant_id }}].product_id = {{ item.product_id }};
                this.variants[{{ item.variant_id }}].metafields = {{ item_variant_mentafields | json }};
                this.variants[{{ item.variant_id }}].metafields.is_buyer_upload = parseInt('{{ item_product_mentafields.uploadable }}') === 1;
                this.variants[{{ item.variant_id }}].metafields.ga_account_id = '{{ item_product_mentafields.ga_account_id }}';
                this.variants[{{ item.variant_id }}].metafields.fb_pixel_id = '{{ item_product_mentafields.fb_pixel_id }}';
              {% endif %}
            {% endunless %}
            this.variants[{{ item.variant_id }}] = {{ item.variant | json }};
            this.variants[{{ item.variant_id }}].product_id = {{ item.product_id }};
            this.variants[{{ item.variant_id }}].metafields = {{ item_variant_mentafields | json }};
            this.variants[{{ item.variant_id }}].metafields.is_buyer_upload = parseInt('{{ item_product_mentafields.uploadable }}') === 1;
            this.variants[{{ item.variant_id }}].metafields.ga_account_id = '{{ item_product_mentafields.ga_account_id }}';
            this.variants[{{ item.variant_id }}].metafields.fb_pixel_id = '{{ item_product_mentafields.fb_pixel_id }}';
            {% if item_product_mentafields.niche_general %}
                this.variants[{{ item.variant_id }}].metafields.niche_general = '{{ item_product_mentafields.niche_general }}';
            {% endif %}
            {% if item_product_mentafields.niche_recipient %}
                this.variants[{{ item.variant_id }}].metafields.niche_recipient = '{{ item_product_mentafields.niche_recipient }}';
            {% endif %}
          {% endfor %}
          this.el = {};
          this.el.$loading = $('#so-loading');
          this.el.$form = $('#so-cart-form');
          this.el.$cartWrap = this.el.$form.find('#so-cart-items');
          this.el.$btn_remove = this.el.$cartWrap.find('.so-cart-remove');
          this.el.$btn_remove_addon = this.el.$cartWrap.find('.so-cart-remove-addon');
          this.el.$btn_packageProtection_checkbox = this.el.$form.find('.so-package-protection-add-remove');
          this.el.$quantity_input = this.el.$cartWrap.find('.so-cart-qty-input');
          this.el.$subtotal = this.el.$form.find('.so-cart-subtotal .money');
          this.el.$savings = this.el.$form.find('.cart__savings .money');
          this.el.$quantity_text = this.el.$form.find('.so-item-quantity-text');
          this.el.$checkoutBtn = this.el.$form.find('.so-proceed-checkout-btn');
        },
        bindEvents: function () {
          this.bindCheckoutFormEvents();
          this.bindUpdateCartEvents();
        },
        bindCheckoutFormEvents: function() {
          var self = this,
            formSubmitDefs = []; // deffereds array
            self.el.$checkoutBtn.one('click', function (evt) {
            evt.stopImmediatePropagation();
            evt.preventDefault();
            self.el.$loading.show();

            if (self.cf.send_shineon_ga_data) {
              var deferred = new $.Deferred(),
                resolveDeferred = function () {
                  deferred.resolve();
                };
              formSubmitDefs.push(deferred.promise());
              setTimeout(resolveDeferred, 400);
              shineon.analytics.ga.send_event.begin_checkout({
                'ga_account_id': '{{ shop.metafields.shineon.google_analytics_id }}',
                'cart': self.cart,
                'callback': resolveDeferred
              });
            }

            var deferred_pf = new $.Deferred(),
              resolveDeferredPF = function () {
                deferred_pf.resolve();
              };
            formSubmitDefs.push(deferred_pf.promise());
            setTimeout(resolveDeferredPF, 1000);
            shineon.analytics.begin_checkout(
              self.cart, self.variants, resolveDeferredPF
            );

            var ShineOnCartAddons = window.ShineOnCartAddons;
            if (ShineOnCartAddons) {
              formSubmitDefs.push(ShineOnCartAddons.deferredSubmitAddonsToCart())
            }

            self.el.$checkoutBtn.off('click')

            $.when.apply(null, formSubmitDefs)
              .fail(function () {
                console.error(arguments);
              })
              .always(function () {
                self.el.$checkoutBtn.attr('name', 'checkout');
                self.el.$checkoutBtn.attr('type', 'submit');
                self.el.$checkoutBtn.trigger('click');
              });
          });
        },
        removeRelatedAddon: function(hero_item_obj, eventMultiplier) {
          var self = this,
              addon_item_id = hero_item_obj.properties['_Addon | Assigned with'] *1,
              addon_item_prop = '',
              addon_item_prop_value = '';
          Object.keys(hero_item_obj.properties).forEach(function(key) {
            if(key.includes('+ ') && addon_item_prop == '') {
              addon_item_prop = key.split('+ ')[1],
              addon_item_prop_value = hero_item_obj.properties[key];
            }
          });
          var addon_item_key = self.getKeyItemIdByItemIdPropValue(addon_item_id, addon_item_prop, addon_item_prop_value),
              addon_item_obj = self.cart.items[self.getLineItemIdByItemKey(addon_item_key) - 1];
          var multiplier = hero_item_obj.quantity;
          if(eventMultiplier) {
            var multiplier = eventMultiplier *(-1);
          }
          var data = {
            key: addon_item_key,
            id: addon_item_id,
            quantity: addon_item_obj.quantity - multiplier
          };
          self.changeCartOnShopify(data);
        },
        bindUpdateCartEvents: function() {
          var self = this;
          // remove button
          this.el.$btn_remove.off('click').on('click', function () {
            if(self.cf.warrantyProd.variants)
            {
              if($(this).closest('.so-cart-item').attr('item-key').includes(self.cf.warrantyProd.variants[0].id))
              {
                self.cf.warrantyProp = false;
              }
            }
            var data = {
              key: $(this).closest('.so-cart-item').attr('item-key'),
              id: $(this).closest('.so-cart-item').attr('item-key').split(':')[0],
              quantity: 0
            };
            self.el.$loading.show();
            self.changeCartOnShopify(data);
            return false;
          });
          // remove Addon
          this.el.$btn_remove_addon.off('click').on('click', function() {
            var hero_key = $(this).attr('data-hero-key'),
                hero_line = self.getLineItemIdByItemKey(hero_key),
                hero_obj = self.cart.items[self.getLineItemIdByItemKey(hero_key) - 1],
                hero_addon_prop_name = $(this).attr('data-addon-prop-name'),
                addon_obj = self.cart.items[self.getLineItemIdByItemKey(hero_key) - 2],
                hero_obj_removed_addon_prop = hero_obj.properties;
            delete hero_obj_removed_addon_prop['_Addon | Assigned with'];
            delete hero_obj_removed_addon_prop['_Addon | handle'];
            delete hero_obj_removed_addon_prop[hero_addon_prop_name];
            var data = {
              line: hero_line,
              properties: hero_obj_removed_addon_prop,
              quantity: hero_obj.quantity
            };
            self.removePropsFromHero(data, addon_obj, hero_key, hero_line);
            return false
          });
          // packageProtection checkbox
          this.el.$btn_packageProtection_checkbox.off('change').on('change', function (e) {
            var cart_items = self.cartProductsTotal(self.updatedCart),
                packageProtectionVariant = self.packageProtectionVariantFromSKUIndex(self.getPackageProtectionIndex(cart_items.total).variant_index);
            self.el.$loading.show();
            if (this.checked == true)
            {
              var data = {
                    id: packageProtectionVariant.id,
                    quantity: 1
                  };
              self.addPackageProtection(data);
            }
            else
            {
              var removePackageProtectionData = {
                    key: self.getKeyItemIdByItemId(self.cf.packageProtectionCurrentVariantID),
                    id: self.cf.packageProtectionCurrentVariantID,
                    quantity: 0
                  };
              self.changeCartOnShopify(removePackageProtectionData);
              self.cf.packageProtectionProp = false;
            }
          });
          // input change
          this.el.$quantity_input.on('change', function () {
            var $this = $(this),
              data = {
                key: $this.closest('.so-cart-item').attr('item-key'),
                id: $this.closest('.so-cart-item').attr('item-key').split(':')[0],
                quantity: parseInt($this.val())
              };
            self.changeCartOnShopify(data);
            return false;
          });
          // minus quantity button
          this.el.$cartWrap.on('click','.so-product-minus:not(.so-product-disabled)', function () {
            {% if shop.metafields.shineon.is_shineon_brand == true and shop.metafields.shineon.is_shineon_brand != blank %}
            $(this).addClass('so-product-disabled');
            {% endif %}
            var $this = $(this),
                $qtySelector = $this.siblings('input.so-cart-qty-input'),
                value = parseInt($qtySelector.val());
            // min value = 1, buyer has remove button to remove this product
            if(value > 1){
              value = value - 1;
              var data = {
                  key: $this.closest('.so-cart-item').attr('item-key'),
                  id: $this.closest('.so-cart-item').attr('item-key').split(':')[0],
                  eventMultiplier: -1,
                  quantity: value
              };
              var cart_item_w = $this.closest('.so-cart-item');
              if(cart_item_w.attr('addon-gift-wrap') == 1) {
                let addon_price_w = $('.so-cart-addon-price[addon-related-key="' + cart_item_w.attr('item-key') +'"]');
                addon_price_w.html('+ ' + self.formatMoney(addon_price_w.attr('data-price') * value));
              }
              $qtySelector.val(value);
              self.changeCartOnShopify(data);
            }
            return false;
          });
          // plus quantity button
          this.el.$cartWrap.on('click','.so-product-plus:not(.so-product-disabled)', function () {
            {% if shop.metafields.shineon.is_shineon_brand == true and shop.metafields.shineon.is_shineon_brand != blank %}
            $(this).addClass('so-product-disabled');
            {% endif %}
            var $this = $(this),
                $qtySelector = $this.siblings('input.so-cart-qty-input'),
                value = parseInt($qtySelector.val()) + 1,
                data = {
                  key: $this.closest('.so-cart-item').attr('item-key'),
                  id: $this.closest('.so-cart-item').attr('item-key').split(':')[0],
                  eventMultiplier: 1,
                  quantity: value
                };
            var cart_item_w = $this.closest('.so-cart-item');
            if(cart_item_w.attr('addon-gift-wrap') == 1) {
              let addon_price_w = $('.so-cart-addon-price[addon-related-key="' + cart_item_w.attr('item-key') +'"]');
              addon_price_w.html('+ ' + self.formatMoney(addon_price_w.attr('data-price') * value));
            }
            $qtySelector.val(value);
            self.changeCartOnShopify(data);
            return false;
          });
        },
        updateItemQuantityText: function() {
          this.el.$quantity_text.text(
            this.cart.item_count === 1
              ? ''
              : '(' + this.cart.item_count + ' ' + ShineOnCart.cf.lang.proceed_to_checkout_button_text_suffix_items + ')'
          );
        },
        updateCartQuantityCounter: function(cart) {
          $('.cart-items-counter').html(cart.item_count);
          var cart_item_count = 0;
          for (var i = 0; i < cart.items.length; i++) {
            if (cart.items[i].vendor == "Shipping Protection" || cart.items[i].vendor == "Warranty")
            {
              continue
            }
            else
            {
              cart_item_count+= cart.items[i].quantity;
            }
          }
          $('#CartCount > span:first-of-type').html(cart_item_count);
        },
        /**
        * Fetch buyer rendered image from local storage
        */
        renderBuyerUploadItemsImages: function () {
          var items = this.cart.items;
          for (var i = 0; i < items.length; i++) {
            if (items[i].properties && items[i].properties.hasOwnProperty('Upload')) {
              var shineon_key = this.cf.localstorage_key_prefix + items[i].key,
                imgDataURL = localStorage.getItem(shineon_key);
              if (imgDataURL !== null && imgDataURL !== "undefined") {
                this.el.$cartWrap.find('.so-cart-item[item-key="' + items[i].key + '"]')
                  .find('.so-cart-image img')
                  .attr('src', imgDataURL);
              }
            }
          }
        },
        formatMoney: function (cents, format) {
          if (typeof cents === 'string') {
            cents = cents.replace('.', '');
          }
          var value = '';
          var placeholderRegex = /\{\{\s*(\w+)\s*\}\}/;
          var formatString = format || {{ shop.money_format | json }};

          function formatWithDelimiters(number, precision, thousands, decimal) {
            thousands = thousands || ',';
            decimal = decimal || '.';

            if (isNaN(number) || number === null) {
              return 0;
            }

            number = (number / 100.0).toFixed(precision);

            var parts = number.split('.');
            var dollarsAmount = parts[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g, '$1' + thousands);
            var centsAmount = parts[1] ? decimal + parts[1] : '';

            return dollarsAmount + centsAmount;
          }

          switch (formatString.match(placeholderRegex)[1]) {
            case 'amount':
              value = formatWithDelimiters(cents, 2);
              break;
            case 'amount_no_decimals':
              value = formatWithDelimiters(cents, 0);
              break;
            case 'amount_with_comma_separator':
              value = formatWithDelimiters(cents, 2, '.', ',');
              break;
            case 'amount_no_decimals_with_comma_separator':
              value = formatWithDelimiters(cents, 0, '.', ',');
              break;
            case 'amount_no_decimals_with_space_separator':
              value = formatWithDelimiters(cents, 0, ' ');
              break;
          }

          return formatString.replace(placeholderRegex, value);
        },
        updateCart: function () {
          var self = this;
          this.removePackageProtectionIfNoProducts()
          if (self.cart.items.length === 0) {
            window.location.reload();
          }
          // line items
          var switch_item_count = 0;
          var diff_price = 0;
          var hide_free_shipping = 0;
          $.each(self.cart.items, function (index, item) {
            var free_shipping = self.el.$cartWrap.find('.so-cart-item[item-key="' + item.key + '"]').data('free-shipping');
            if (free_shipping == 0)
            {
              hide_free_shipping = 1;
            }
            var data_switch = self.el.$cartWrap.find('.so-cart-item[item-key="' + item.key + '"]').data('switch');
            var item_compare_price = self.el.$cartWrap.find('.so-cart-item[item-key="' + item.key + '"] .so-cart-lineprice-compare').data('price-compare');
            if (item_compare_price)
            {
              diff_price += (item_compare_price - item.price) * item.quantity;
            }
            if (data_switch == 1)
            {
              switch_item_count++;
            }
            if (self.cf.warrantyProd.variants)
            {
              if (item.id != self.cf.warrantyProd.variants[0].id)
              {
                self.updateCartItemPrice(item);
              }
            }
            else
            {
              self.updateCartItemPrice(item);
            }
          });

          if(hide_free_shipping == 0)
          {
            $('.with-free-shipping').removeClass('non-free-shipping-w');
            $('.non-free-shipping').removeClass('non-free-shipping');
          }

          // queued cart addons
          var cart_addons_price = (window.ShineOnCartAddons && window.ShineOnCartAddons.getQueuedAddonsSubtotal()) || 0

          // subtotal
          this.el.$subtotal.html(this.formatMoney(this.cart.total_price + cart_addons_price));
          // you save value
          $('.diff_price').html(this.formatMoney(diff_price));

          // cart items count
          this.updateCartQuantityCounter(this.cart);

          // item quantity on buttons
          this.updateItemQuantityText();

          // check CART ADD-ON if no SOPP in Cart
          var is_oreo_box_needed = false,
              no_oreo_box_needed = false,
              is_wooden_box_in_cart = false;
          $.each(this.cart.items, function (index, item) {
            var elem = $('.so-cart-item[item-key="' + item.key + '"]');
            if (item.vendor.includes("ShineOn"))
            {
              is_oreo_box_needed = true;
            }
            if(elem.data('ipcs'))
            {
              if (elem.data('ipcs').includes("-WOOD"))
              {
                is_wooden_box_in_cart = true;
              }
              if (elem.data('ipcs').includes("M0"))
              {
                no_oreo_box_needed = true;
              }
            }
          });
          if (no_oreo_box_needed)
          {
            is_oreo_box_needed = false;
          }
          if (is_oreo_box_needed == false || is_wooden_box_in_cart == true)
          {
            $('.cart-item-addon').hide();
          }
          else
          {
            $('.cart-item-addon').show();
          }

          window.dispatchEvent(new CustomEvent('shineon.events.cart_updated', { detail: { cart: self.cart } }))
        },
        updateCartGetJSON: function (data) {
          this.removePackageProtectionIfNoProducts()
          var self = this,
              this_cart = data;
          if (this_cart.items.length === 0) {
            window.location.reload();
          }

          // line items
          var switch_item_count = 0;
          var diff_price = 0;
          var hide_free_shipping = 0;
          $.each(this_cart.items, function (index, item) {
            var free_shipping = self.el.$cartWrap.find('.so-cart-item[item-key="' + item.key + '"]').data('free-shipping');
            if (free_shipping == 0)
            {
              hide_free_shipping = 1;
            }
            var data_switch = self.el.$cartWrap.find('.so-cart-item[item-key="' + item.key + '"]').data('switch');
            var item_compare_price = self.el.$cartWrap.find('.so-cart-item[item-key="' + item.key + '"] .so-cart-lineprice-compare').data('price-compare');
            if (item_compare_price)
            {
              diff_price += (item_compare_price - item.price) * item.quantity;
            }
            if (data_switch == 1)
            {
              switch_item_count++;
            }
            self.updateCartItemPrice(item);
          });

          if(hide_free_shipping == 0)
          {
            $('.with-free-shipping').removeClass('non-free-shipping-w');
            $('.non-free-shipping').removeClass('non-free-shipping');
          }

          // queued cart addons
          var cart_addons_price = (window.ShineOnCartAddons && window.ShineOnCartAddons.getQueuedAddonsSubtotal()) || 0

          // subtotal
          this.el.$subtotal.html(this.formatMoney(this.cart.total_price + cart_addons_price));
          // you save value
          $('.diff_price').html(this.formatMoney(diff_price));

          // cart items count
          this.updateCartQuantityCounter(this_cart);

          // item quantity on buttons
          this.updateItemQuantityText();

          // check CART ADD-ON if no SOPP in Cart
          var is_oreo_box_needed = false,
              no_oreo_box_needed = false,
              is_wooden_box_in_cart = false;
          $.each(this_cart.items, function (index, item) {
            var elem = $('.so-cart-item[item-key="' + item.key + '"]');
            if (item.vendor.includes("ShineOn"))
            {
              is_oreo_box_needed = true;
            }
            if(elem.data('ipcs'))
            {
              if (elem.data('ipcs').includes("-WOOD"))
              {
                is_wooden_box_in_cart = true;
              }
              if (elem.data('ipcs').includes("M0"))
              {
                no_oreo_box_needed = true;
              }
            }
          });
          if (no_oreo_box_needed)
          {
            is_oreo_box_needed = false;
          }
          if (is_oreo_box_needed == false || is_wooden_box_in_cart == true)
          {
            $('.cart-item-addon').hide();
          }
          else
          {
            $('.cart-item-addon').show();
          }

          $('.so-product-disabled').removeClass('so-product-disabled');

          if (self.cf.packageProtectionProp) {
            var packageProtectionVariant = self.packageProtectionVariantFromSKUIndex(self.getPackageProtectionObj(data).variant_index);
            self.updatePackageProtectionPrice(packageProtectionVariant);
          }

          if(self.cf.warrantyProp != false)
          {
            //self.updateWarrantyQuantity(data);
          }

          //3392 ShopPay
          $('.so-shoppay-text span.money, .so-popup-back .popup-price').text(this.formatMoney(self.cart.total_price /4));
        },
        updatePackageProtectionPrice: function (data) {
          var self = this;
          $('.so-package-protection-price').text(this.formatMoney(data.price));
          if (self.cf.packageProtectionProp != false)
          {
            $('.so-package-protection-price').css('display', 'inline');
            self.el.$btn_packageProtection_checkbox[0].checked = true;
          }
          else
          {
            $('.so-package-protection-price').css('display', 'none');
          }
        },
        updateCartItemPrice: function (item) {
          var self = this,
              item_compare_price = self.el.$cartWrap.find('.so-cart-item[item-key="' + item.key + '"] .so-cart-lineprice-compare').data('price-compare');
          self.el.$cartWrap
                .find('.so-cart-item[item-key="' + item.key + '"] .so-cart-lineprice')
                .html(self.formatMoney(item.line_price));
            self.el.$cartWrap
                .find('.so-cart-item[item-key="' + item.key + '"] .so-cart-lineprice-compare')
                .html(self.formatMoney(item_compare_price * item.quantity));
        },
        updateWarrantyQuantity: function (cart) {
          var self = this,
              warrantyVariantID = self.cf.warrantyProd.variants[0].id;
          for (var i = 0; i < cart.items.length; i++) {
            var item = cart.items[i];
            if (item.id == warrantyVariantID)
            {
              var warrantyCartItem = item;
            }
          }
          if (warrantyCartItem)
          {
            self.updateCartItemPrice(warrantyCartItem);
            self.el.$cartWrap
                .find('.so-cart-item[item-key="' + warrantyCartItem.key + '"] .so-cart-qty-input')
                .val(warrantyCartItem.quantity);
          }
        },
        getPackageProtectionObj: function (self_cart) {
          var self = this;
          var cart_items_total = 0,
              so_package_protection_variant_index = 0;
          $.each(self_cart.items, function (index, item) {
            if (item.handle != self.cf.packageProtectionProd.handle)
            {
              if (self.cf.warrantyProp && item.id != self.cf.warrantyProd.variants[0].id)
              {
                cart_items_total += item.price * item.quantity;
              }
            }
          });
          if (cart_items_total > 10000 && cart_items_total < 20001)
          {
            so_package_protection_variant_index = 1;
          }
          else if (cart_items_total > 20000 && cart_items_total < 30001)
          {
            so_package_protection_variant_index = 2;
          }
          else if (cart_items_total > 30000 && cart_items_total < 40001)
          {
            so_package_protection_variant_index = 3;
          }
          else if (cart_items_total > 40000 && cart_items_total < 50001)
          {
            so_package_protection_variant_index = 4;
          }
          else if (cart_items_total > 50000)
          {
            so_package_protection_variant_index = 5;
          }

          return {
            variant_index: so_package_protection_variant_index
          }
        },
        getCartUpdatedData: function() {
          var defer = $.Deferred()
          var self = this;

          $.getJSON('/cart.js', function(data, success, response) {})
            .done(function(cart)
            {
              self.cart = cart
              self.updateCartWithAddons(self.addonsUpdatedObj(cart));
              defer.resolve(cart)
            })
            .fail(function (response) {
              console.error('GET cart.js error', response);
              defer.reject(response)
            })
            .always(function () {
              self.el.$loading.hide();
            });

            return defer.promise();
        },
        addPackageProtection: function (data) {
          var self = this;

          $.ajax({
            type: 'POST',
            url: '/cart/add.js',
            dataType: 'json',
            data: data
          })
            .done(function (data) {
              self.cf.packageProtectionProp = true;
              self.cf.packageProtectionProdKey = data.key;
              self.cf.packageProtectionCurrentVariantID = data.id;
              self.getCartUpdatedData();
              self.el.$loading.hide();
            })
            .fail(function (response) {
              console.error('add error', response);
            })
        },
        ShopifycartChange: function (cartChangeData) {
          var self = this;

          $.ajax({
            type: 'POST',
            url: '/cart/change.js',
            dataType: 'json',
            data: cartChangeData
          })
            .done(function (cart) {
              self.updateCartGetJSON(cart);
            })
            .fail(function (response) {
              console.error('change error', response);
            })
            .always(function () {
              self.el.$loading.hide();
            })
        },
        updatePackageProtection: function (updatedData) {
          var self = this;
          $.ajax({
            type: 'POST',
            url: '/cart/update.js',
            dataType: 'json',
            data: updatedData
          })
            .done(function (cart) {
              self.updateCartGetJSON(cart);
              self.updatedCart = cart;
              self.updatedCartPackage = cart;
              self.el.$loading.hide();
            })
            .fail(function (response) {
              console.error('update error', response);
            })
        },
        clearCart: function ()
        {
          var self = this;
          $.ajax({
            type: 'POST',
            url: '/cart/clear.js',
            dataType: 'json',
            data: ''
          })
            .done(function (cart) {
              window.location.reload();
            })
            .fail(function (response) {
              console.error('update error', response);
            })
        },
        removePropsFromHero: function (data, addon_obj, hero_key, hero_line) {
          var self = this;
          $.ajax({
            type: 'POST',
            url: '/cart/change.js',
            dataType: 'json',
            data: data
          })
            .done(function (cart) {
              self.cart = cart;
              var addon_data = {
                key: addon_obj.key,
                quantity: 0
              }
              var heroItemWithNewKey = self.cart.items[hero_line-1];
              $('.so-cart-item[item-key="' + hero_key + '"]').attr('data-line', hero_line - 1);
              $('.so-cart-item[item-key="' + hero_key + '"]').attr('item-key', heroItemWithNewKey.key);
              $('[addon-related-key="' + hero_key + '"]').hide();
              self.changeCartOnShopify(addon_data);
            })
            .fail(function (response) {
              console.error('change error', response);
            })
        },
        changeCartOnShopify: function (data) {
          var self = this;
          data.line = self.getLineItemIdByItemKey(data.key);
          var $line = self.el.$form.find('.so-cart-item[item-key="' + data.key + '"]');
          var curr_cart_item = self.cart.items.filter((item) => item.key == data.key)[0];
          var variant = this.variants[curr_cart_item.variant_id];

          {% if shop.metafields.shineon.is_shineon_brand == true and shop.metafields.shineon.is_shineon_brand != blank %}
          if (data.quantity === 0 && data.id != self.cf.packageProtectionCurrentVariantID) {
            // only remove entire line_item event
          {% else %}
          if (data.quantity === 0 && !is_route_in_cart) {/*** Route app. Don't add for Route product ***/
          {% endif %}
            if (this.cf.send_shineon_ga_data) {
              shineon.analytics.ga.send_event.remove_from_cart({
                'ga_account_id': '{{ shop.metafields.shineon.google_analytics_id }}',
                'cart_item': curr_cart_item,
                'quantity': curr_cart_item.quantity
              });
            }
            shineon.analytics.remove_from_cart(curr_cart_item, variant);
          }

          $.ajax({
            type: 'POST',
            url: '/cart/change.js',
            dataType: 'json',
            data: data
          })
            .done(function (cart) {
              if (data.quantity === 0) {
                $line.remove();
              }
              self.cart = cart;
              {% unless shop.metafields.shineon.is_shineon_brand == true and shop.metafields.shineon.is_shineon_brand != blank %}
                self.updateCart();
              {% else %}
                var cart_items = self.cartProductsTotal(cart);

                if (cart_items.quantity < 1)
                {
                  self.clearCart();
                }
                else
                {
                  self.updateCartWithAddons(self.addonsUpdatedObj(cart));
                }
              {% endunless %}
              if(curr_cart_item.properties && curr_cart_item.properties.hasOwnProperty('_Addon | Assigned with')) {
                self.removeRelatedAddon(curr_cart_item, data.eventMultiplier);
              }
              else {
                self.el.$loading.hide();
              }
            })
            .fail(function (response) {
              console.error('change error', response);
            })
        },
        cartProductsTotal: function (cart) {
          var self = this,
              cart_items_obj = {},
              cart_items_total = 0,
              cart_items_quantity = 0;
          $.each(cart.items, function (index, item) {
            if (item.product_id != self.cf.packageProtectionProd.id && item.product_id != self.cf.warrantyProd.id)
            {
              cart_items_total += item.price * item.quantity;
              cart_items_quantity += item.quantity;
            }
          });

          cart_items_obj['quantity'] = cart_items_quantity;
          cart_items_obj['total'] = cart_items_total;
          self.cartProductTotal = cart_items_total;

          return cart_items_obj
        },
        getPackageProtectionIndex: function (cart_items_total) {
          var so_package_protection_variant_index = 0;
          if (cart_items_total > 10000 && cart_items_total < 20001)
          {
            so_package_protection_variant_index = 1;
          }
          else if (cart_items_total > 20000 && cart_items_total < 30001)
          {
            so_package_protection_variant_index = 2;
          }
          else if (cart_items_total > 30000 && cart_items_total < 40001)
          {
            so_package_protection_variant_index = 3;
          }
          else if (cart_items_total > 40000 && cart_items_total < 50001)
          {
            so_package_protection_variant_index = 4;
          }
          else if (cart_items_total > 50000)
          {
            so_package_protection_variant_index = 5;
          }

          return {
            variant_index: so_package_protection_variant_index
          }
        },
        addonsUpdatedObj: function (cart) {
          var self = this,
              cart_items = self.cartProductsTotal(self.updatedCart),
              cart_items_updated = self.cartProductsTotal(cart),
              updatedData = {updates:{}};

          if (self.cf.packageProtectionProp)
          {
            for (var i = 0; i < self.updatedCart.items.length; i++) {
              var item = self.updatedCart.items[i];
              if (item.handle == 'purchase-protection-route-replacement' || item.handle === 'package-protection')
              {
                var packageProtectionVariantCurrent = item;
              }
            }
            var packageProtectionVariant = self.packageProtectionVariantFromSKUIndex(self.getPackageProtectionIndex(cart_items_updated.total).variant_index);packageProtectionVariantCurrent = packageProtectionVariantCurrent ? packageProtectionVariantCurrent : self.packageProtectionVariantFromSKUIndex(self.getPackageProtectionIndex(cart_items.total).variant_index);

            if(packageProtectionVariantCurrent.sku != packageProtectionVariant.sku)
            {
              updatedData.updates[packageProtectionVariantCurrent.id] = 0;
              updatedData.updates[packageProtectionVariant.id] = 1;
              self.cf.packageProtectionCurrentVariantID = packageProtectionVariant.id;
              self.cf.packageProtectionProdKey = self.getKeyItemIdByItemId(self.cf.packageProtectionCurrentVariantID);
            }
          }
          if (self.cf.warrantyProp)
          {
            updatedData.updates[self.cf.warrantyProd.variants[0].id] = cart_items_updated.quantity;
          }

          return updatedData
        },
        updateCartWithAddons: function (updatedData) {
          var self = this;
          $.ajax({
            type: 'POST',
            url: '/cart/update.js',
            dataType: 'json',
            data: updatedData
          })
            .done(function (cart) {
              self.updatedCart = cart;
              self.updatedCartPackage = cart;
              self.updateCartGetJSON(cart);
              $('.so-cart-item-warranty .item-price').css('display', 'block');
              self.el.$loading.hide();
              window.dispatchEvent(new CustomEvent('shineon.events.cart_updated', { detail: { cart: self.updatedCart } }))
            })
            .fail(function (response) {
              console.error('update error', response);
            })
        },
        /**
        * js theme fixes/hacks
        */
        hacks: function(){
          /**
          * Some themes have an event listener for all input[type=number]
          * that adds the quantity change buttons +/-
          * hack: dom starts with input type="text", js changes it to type="number"
          */
          this.el.$quantity_input.attr('type','number')
            .closest('.so-cart-qty').removeClass('so-hidden');


        },
        /**
        * delete localstorage items that do not exist on this cart
        */
        clearOldItemsOnLocalStorage: function(){
          var items = this.cart.items, key_with_prefix, key_without_prefix;
          localStorageLoop: for (var i = 0; i < localStorage.length; i++) {
            // only keys with our prefix
            if (localStorage.key(i).match(new RegExp('^'+this.cf.localstorage_key_prefix, 'g'))) {
              key_with_prefix = localStorage.key(i);
              key_without_prefix = key_with_prefix.replace(this.cf.localstorage_key_prefix, '');

              // do we have this key on the cart
              for (var j = 0; j < items.length; j++) {
                if (items[j].key === key_without_prefix) {
                  continue localStorageLoop;
                }
              }
              // we don't have this key on the cart
              localStorage.removeItem(key_with_prefix);
            }
          }
        },
        /**
        * line_item.key is unique
        * line_item.id is not unique (it's the variant ID)
        * the "line" can change when removing items
        *
        * @param key
        */
        getLineItemIdByItemKey: function(key){
          var self = this;
          for (var i = 0; i < self.cart.items.length; i++) {
            if(self.cart.items[i].key === key){
              return i+1;
            }
          }
        },
        getLineItemIdByItemId: function(id){
          var self = this;
          for (var i = 0; i < self.cart.items.length; i++) {
            if(self.cart.items[i].id === id){
              return i+1;
            }
          }
        },
        getKeyItemIdByItemId: function(id){
          var self = this;
          for (var i = 0; i < self.updatedCart.items.length; i++) {
            if(self.updatedCart.items[i].id === id){
              return self.updatedCart.items[i].key
            }
          }
        },
        getKeyItemIdByItemIdPropValue: function(id, prop, value){
          var self = this;
          for (var i = 0; i < self.updatedCart.items.length; i++) {
            if(self.updatedCart.items[i].id === id && self.updatedCart.items[i].properties[prop] === value){
              return self.updatedCart.items[i].key
            }
          }
        }
      };
      ShineOnCart.init();

      document.addEventListener('shopify:section:load', function() {
        ShineOnCart.init();
      });

      $(".so-cart-qty-input").on("keypress", function (event) {
        var keyPressed = event.keyCode || event.which;
        if (keyPressed === 13) {
          event.preventDefault();
          return false;
        }
      });

      $modal_info = $('#modal-info');
      $modal_info.insertAfter($('div.page-container').length ? 'div.page-container' : 'body');
      $('.info-icon').off('click').on('click', function () {
        $modal_info.so_modal('show');

        return false
      });

      {% if section.settings.cart_timer_enable %}
      if ($('#cartTimer').length) {
        var completetime = {{ section.settings.cart_timer_minute }} - 60;
        var timer_time = completetime / 60;
        var hours = Math.floor(timer_time / 60);
        var minutes = Math.floor(timer_time % 60);
        var seconds = 59;
        $('#cartTimer').countdowntimer({
          minutes : minutes,
          seconds : seconds,
        });
      }
      if ($('#cartTimerMobile').length) {
        var completetime = {{ section.settings.cart_timer_minute }} - 60;
        var timer_time = completetime / 60;
        var hours = Math.floor(timer_time / 60);
        var minutes = Math.floor(timer_time % 60);
        var seconds = 59;
        $('#cartTimerMobile').countdowntimer({
          minutes : minutes,
          seconds : seconds,
        });
      }
      {% endif %}

      {% if section.settings.reviews_on_cart_page == 'so-default' %}
      $('.custom-reviews-inner').so_slick({
        slidesToShow: 3,
        slidesToScroll: 1,
        arrows: true,
        prevArrow: '<button type="button" class="so_slick-prev so_slick-arrow">{% include "shineon-app-icons" with "chevron-left" %}</button>',
        nextArrow: '<button type="button" class="so_slick-next so_slick-arrow">{% include "shineon-app-icons" with "chevron-right" %}</button>',
        responsive: [
          {
            breakpoint: 991,
            settings: {
              slidesToShow: 2
            }
          },
          {
            breakpoint: 767,
            settings: {
              slidesToShow: 1
            }
          }
        ]
      });
      {% endif %}

      if ($(window).width() < 768)
      {
        var cart_footer_height = $('#so-cart-footer .cart_total-payment_btn.fixed').outerHeight() + 'px';
        $('body.template-cart').css('padding-bottom', cart_footer_height);

        var cartFooter = $('#so-cart-footer .cart_total-payment_btn'),
            cartFooterClone = $('#cart_total-payment_btn-clone'),
            cartFooterBottomPos = cartFooter.position().top + cartFooter.outerHeight();

        $(window).scroll(function ()
        {
          var scrollPos = $(window).scrollTop(),
              chatButton =  $('#chat-button');
          if (scrollPos > cartFooterBottomPos)
          {
            cartFooterClone.height(cartFooter.outerHeight());
            cartFooter.addClass('fixed');
            chatButton.addClass('fixed').attr('style', `bottom:${cartFooter.outerHeight()}px!important`);
            $('body.template-cart').css('padding-bottom', cartFooter.outerHeight());
          }
          else
          {
            cartFooterClone.height(0);
            cartFooter.removeClass('fixed');
            chatButton.removeClass('fixed').css('bottom','10px');
          }
        });
      }

    })(window.jQuery);
  });
</script>
{% if section.settings.cart_properties_type == 'newest' %}
<script defer>
  document.addEventListener("DOMContentLoaded", function(){
    const property_items = $('.property__item');
    $(property_items).each(function(index, item){
      if($(item).find('.coma').length < 1)
      {
        $(item).find('.open_bracket').hide();
        $(item).find('.close_bracket').hide();
      }
    });
  });
</script>
{% endif %}
{% if shop.metafields.shineon.is_shineon_brand == true and shop.metafields.shineon.is_shineon_brand != blank %}
<script defer>
  document.addEventListener("DOMContentLoaded", function() {
    const checkout_btn = document.querySelector('.btn.so-proceed-checkout-btn');
    checkout_btn.addEventListener('click', function(e){
      if (document.querySelector('.ba-chosen') > 0 && document.querySelector('.bacurr-money') > 0)
      {
        const chosen_cur = document.querySelector('.ba-chosen').textContent,
              money_elem = document.querySelector('.bacurr-money').textContent;
        let cur_sign = money_elem.slice(0,1);
        const current_currency = [ chosen_cur, window.baCurr.Currency.rates[chosen_cur], cur_sign ? cur_sign : ''];
        localStorage.setItem('current_currency', current_currency);
      }
    });
  });
</script>
{% endif %}
{% include 'product-shineon-custom-styles' %}
{% include 'product-shineon-scripts' with 'modal' %}

<style>
  .d-flex {
    display: flex;
  }
  .d-flex.justify-content {
    justify-content: center;
  }
  .d-flex.align-center {
    align-items: center;
  }
  main#MainContent {
    background-color: #f9fafb;
    padding-top: {{ section.settings.general_content_padding }}px;
  }
  @media(min-width: 768px) {
    main#MainContent {
      padding-bottom: 50px;
    }
  }
  @media(min-width: 992px) {
    main#MainContent {
      padding-bottom: 100px;
    }
  }
  .cart-page-heading {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
  }
  {% unless section.settings.summary_bg_color and section.settings.summary_bg_color != '' and shop.metafields.shineon.is_shineon_brand != true %}
  @media (min-width: 768px) {
    .cart-page-heading {
      margin-right: 15px;
    }
  }
  {% endunless %}
  @media (max-width: 767px) {
    .cart-page-heading {
      flex-direction: column;
      margin-top: 10px;
    }
  }
  .cart-page-heading .cart-timer {
    margin-bottom: 0;
    font-style: normal;
    font-weight: 600;
    font-size: 15px;
    line-height: 20px;
  }
  .cart-page-heading .cart-timer--time {
    font-weight: bold;
    font-size: 15px;
    line-height: 20px;
    display: inline-block;
    color: {{ section.settings.cart_timer_color }};
    {% if section.settings.cart_timer_bg != 'rgba(0,0,0,0)' and section.settings.cart_timer_bg != '' and section.settings.cart_timer_bg != null %}
    background-color: {{ section.settings.cart_timer_bg }};
    padding: 3px 8px;
    {% endif %}
  }
  .cart-page-heading .cart-page-title {
    margin-bottom: 0;
  }
  .cart-page-title {
    color: #363636;
    font-size: 24px;
    font-weight: 600;
    margin-bottom: 70px;
    text-transform: capitalize;
    margin: 0 0 20px 0;
    font-family: Raleway,sans-serif;
  }

  /* Global resets */
  #shopify-section-{{ section.id }} {
    font-size: 16px;
    font-family: "Source Sans Pro", "HelveticaNeue", "Helvetica Neue", Helvetica, Arial, sans-serif;
    color: #272727;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    margin: auto;
    max-width: {{ section.settings.container_max_width }}px;
  }
  {% if section.settings.callout_visibility != true %}
  @media(min-width: 768px) {
    #shopify-section-{{ section.id }} {
      padding-top: 30px;
    }
  }
  {% endif %}
  #shopify-section-{{ section.id }} .empty-page-content {
    text-align: center;
  }
  #shopify-section-{{ section.id }} .empty-page-content h1 {
    padding-bottom: 0;
    margin-bottom: 15px;
    font-size: 32px;
    margin-top: 0;
    letter-spacing: 0.97rem;
    font-family: Raleway, "Avenir Next Rounded", "HelveticaNeue", "Helvetica Neue", Helvetica, Arial, sans-serif;
    text-transform: uppercase;
    line-height: 1.42;
    align-self: center;
  }
  #shopify-section-{{ section.id }} input[type="search"],
  #shopify-section-{{ section.id }} input[type="email"],
  #shopify-section-{{ section.id }} input[type="password"] {
    -webkit-appearance: none;
    -moz-appearance: none;
  }
  #shopify-section-{{ section.id }} input[type="number"] {
    -moz-appearance: textfield;
  }
  #shopify-section-{{ section.id }} input[type="number"]::-webkit-inner-spin-button {
    /*For Webkits like Chrome and Safari*/
    -webkit-appearance: none;
    margin: 0;
  }
  #shopify-section-{{ section.id }} a {
    text-decoration: none;
    color: #272727;
  }
  @media (min-width: 768px) and (max-width: 991px) {
    .trustpoint-rating a {
      flex-direction: column;
      align-items: flex-start;
    }
  }
  #shopify-section-{{ section.id }} span.so_nobreak {
    white-space: nowrap;
    line-height: 1;
  }
  #shopify-section-{{ section.id }} a:hover {
    color: #2E3337;
  }
  #shopify-section-{{ section.id }} a.so-cart-continue{
    color: #0000EE;
    text-decoration: underline;
  }
  #shopify-section-{{ section.id }} a.so-cart-continue:hover{
    color: #0000c3;
  }
  #shopify-section-{{ section.id }} p {
    margin-bottom: 0;
    color: #272727;
  }
  #shopify-section-{{ section.id }} .btn {
    -moz-user-select: none;
    -ms-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    display: inline-block;
    width: auto;
    text-decoration: none;
    text-align: center;
    vertical-align: middle;
    cursor: pointer;
    border: 1px solid transparent;
    border-radius: 2px;
    padding: 8px 15px;
    background-color: #deba75;
    color: #fff;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    white-space: normal;
    font-size: 14px;
    margin-top: 20px;
  }
  .route-widget-shopify {
    margin-bottom: -20px;
  }
  #shopify-section-{{ section.id }} .btn:hover {
    background-color: #e5ca82;
    color: #fff;
  }
  #shopify-section-{{ section.id }} .so-proceed-checkout-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    color: {{ section.settings.checkout_btn_fg_color }};
    line-height: 1.45;
    font-size: {{ section.settings.checkout_text_size }}px;
    vertical-align: middle;
    min-height: 50px;
    text-transform: unset;
    letter-spacing: 0;
    background-color: {{ section.settings.checkout_btn_bg_color }};
    border: 0;
    outline: 0;
    padding: 0;
    font-weight: 600;
    text-align: center;
    width: 100%;
    min-width: 100%;
    max-width: 100%;
    white-space: nowrap;
  }
  @media(min-width: 768px) and (max-width: 1199px) {
    #shopify-section-{{ section.id }} .so-proceed-checkout-btn {
      font-size: 15px;
    }
  }
  @media(max-width: 767px) {
    #shopify-section-{{ section.id }} .so-proceed-checkout-btn {
      font-size: 18px;
    }
  }
  #shopify-section-{{ section.id }} .so-proceed-checkout-btn .checkout-title {
    margin: 0 8px;
    white-space: nowrap;
    font-family: "Source Sans Pro", "HelveticaNeue", "Helvetica Neue", Helvetica, Arial, sans-serif;
  }
  #shopify-section-{{ section.id }} .so-hidden{
    display: none !important;
  }
  #shopify-section-{{ section.id }} .so-proceed-checkout-btn .so-icons{
    fill: #fff;
    line-height: 1;
  }
  #shopify-section-{{ section.id }} .so-proceed-checkout-btn .so-icons svg{
    fill: #fff;
  }
  #shopify-section-{{ section.id }} span.so_nobreak,
  #shopify-section-{{ section.id }} .so-proceed-checkout-btn .so-icons,
  #shopify-section-{{ section.id }} .so-proceed-checkout-btn .so-icons svg {
    width: 15px;
    height: 17px;
    display: block;
  }

  #shopify-section-{{ section.id }} .so-proceed-checkout-btn:hover {
    background-color: {{ section.settings.checkout_btn_bg_color | color_lighten: 2 }} !important;
  }
  #shopify-section-{{ section.id }} .so-compare-at-price {
    text-decoration: line-through;
    color: #8c8b8b;
    text-shadow: none;
    font-weight: normal;
    word-break: break-word;
    white-space: nowrap;
  }

  #shopify-section-{{ section.id }} .so-cart-image img {
    display: block;
    margin: auto;
    max-height: 90px;
    max-width: 100%;
    height: auto;
    width: auto;
    position: relative;
    opacity: 1;
  }
  @media (min-width: 768px) {
    #shopify-section-{{ section.id }} .so-cart-image img {
      max-height: 150px;
    }
  }

  #shopify-section-{{ section.id }} .so-cart-flex {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
  }
  @media (min-width: 768px) {
    #shopify-section-{{ section.id }} .so-cart-flex {
      align-items: center;
    }
  }

  #shopify-section-{{ section.id }} #so-cart-form:not(.so-cart-shineon-form) {
    display: block;
  }

  #shopify-section-{{ section.id }} #so-cart-header {
    border-top: 1px solid #e8e9eb;
    border-bottom: 1px solid #e8e9eb;
    padding: 1rem 0;
    min-height: 110px;
    vertical-align: middle;
  }

  #shopify-section-{{ section.id }} .so-cart-item {
    border-bottom: 1px solid #e8e9eb;
    padding: 1rem 0;
  }

  #shopify-section-{{ section.id }} .cart__shipping {
    padding: 0;
    margin: 1em 0;
    float: none;
    display: block;
    text-align: left;
  }

  #shopify-section-{{ section.id }} .so-cart-item-info {
    padding-left: 15px;
    flex-grow: 1;
    display: flex;
    align-items: flex-start;
  }
  @media(min-width: 992px) {
    #shopify-section-{{ section.id }} .so-cart-item-info {
      padding-left: 25px;
    }
  }
  @media (max-width: 991px) {
  {% if section.settings.grid_type == 'newest' %}
    #shopify-section-{{ section.id }} .so-cart-item-info {
      flex-direction: column;
    }
  {% else %}
    #shopify-section-{{ section.id }} .so-cart-item.cart-item-addon .so-cart-item-info {
      flex-direction: column;
    }
  {% endif %}
  }
  @media(min-width: 768px) {
    #shopify-section-{{ section.id }} .so-cart-item-info .so-cart-meta {
      flex: 1 1 100%;
    }
  }
  @media (min-width: 992px) {
    #shopify-section-{{ section.id }} .so-cart-item-info .so-cart-meta {
      padding-right: 25px;
    }
  }
  .title-price {
    display: flex;
    width: 100%;
  }
  #shopify-section-{{ section.id }} .so-cart-price .so-cart-lineprice-compare {
    font-size: 16px;
    font-weight: 400;
    color: #999999;
    text-decoration: line-through;
    line-height: 1;
  }
  #shopify-section-{{ section.id }} .title-price .so-cart-remove-wrap {
    margin-top: 5px;
  }
  .price-quantity {
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  @media (min-width: 992px) {
    .price-quantity {
      {% if section.settings.grid_type == 'newest' %}
      flex: 1 1 100%;
      {% else %}
      flex: 1 1 50%;
      {% endif %}
    }
  }
  @media (max-width: 991px) {
    .price-quantity {
      width: 100%;
    }
  }
  #shopify-section-{{ section.id }} .item-quantity {
    flex: 0 0 120px;
  }
  @media (min-width: 768px) {
    #shopify-section-{{ section.id }} .item-quantity {
      flex: 0 0 126px;
    }
  }
  #shopify-section-{{ section.id }} .item-price {
    font-family: "Source Sans Pro",'HelveticaNeue','Helvetica Neue',Helvetica,Arial,sans-serif;
    margin-left: 10px;
    flex: 0 0 40%;
  }
  #shopify-section-{{ section.id }} .item-price .so-cart-price {
    margin-right: 0;
    text-align: right;
  }
  #shopify-section-{{ section.id }} .item-price .so-cart-price .so-cart-lineprice {
    margin-bottom: 0;
    font-size: 16px;
    color: #272727;
    font-weight: 600;
  }
  #shopify-section-{{ section.id }} #so-cart-form:not(.so-cart-shineon-form) .so-cart-price{
    flex: 1;
    text-align: right;
  }
  #shopify-section-{{ section.id }} .so-cart-item-info .so-cart-meta {
    max-width: 100%;
    text-align: left;
  }
  #shopify-section-{{ section.id }} .list-view-item__title,
  #shopify-section-{{ section.id }} .cart__meta-text {
    font-style: normal;
  }
  #shopify-section-{{ section.id }} .cart__meta-text {
    padding: 0;
    margin-bottom: 5px;
  }
  {% if section.settings.cart_grid_type == 'newest' %}
  #shopify-section-{{ section.id }} .so-cart-item:not(.cart-item-addon) a.so-product-title{
  {% else %}
  #shopify-section-{{ section.id }} .so-cart-item a.so-product-title{
  {% endif %}
    color: #272727;
    font-weight: bold;
    text-transform: uppercase;
    font-family: Raleway, "Avenir Next Rounded", "HelveticaNeue", "Helvetica Neue", Helvetica, Arial, sans-serif;
    letter-spacing: 0.25rem;
    display: block;
    font-weight: 500;
    padding-bottom: 5px;
    font-size: 11px;
  }
  @media(min-width: 768px) {
    {% if section.settings.cart_grid_type == 'newest' %}
    #shopify-section-{{ section.id }} .so-cart-item:not(.cart-item-addon) a.so-product-title{
    {% else %}
    #shopify-section-{{ section.id }} .so-cart-item a.so-product-title{
    {% endif %}
      font-size: 13px;
    }
  }
  #shopify-section-{{ section.id }} .cart__meta-text p {
    font-weight: 500;
    font-size: 12px;
    padding: 0;
    margin: 0;
  }
  #shopify-section-{{ section.id }} .cart__meta-text p {
    color: #1A2A47;
  }
  #shopify-section-{{ section.id }} .cart__meta-text .label {
    color: #909090;
  }
   #shopify-section-{{ section.id }} .cart__meta-text .property__item .coma
  {
    margin: 0 -1.5px;
  }
  #shopify-section-{{ section.id }} .cart__meta-text .property__item .open_bracket
  {
    margin: 0 -1.5px 0 0;
  }
  #shopify-section-{{ section.id }} .cart__meta-text .property__item .close_bracket
  {
    margin: 0 0 0 -1.5px;
  }
  #shopify-section-{{ section.id }} .so-cart-remove-wrap {
    margin-top: 1em;
  }
  #shopify-section-{{ section.id }} .so-cart-remove {
    font-size: 13px;
  }
  #shopify-section-{{ section.id }} .so-cart-remove svg {
    margin-right: 3px;
    position: relative;
    top: 1px;
  }
  #shopify-section-{{ section.id }} .so-cart-remove:not(:hover){
    color: #c7c7c7;
  }

  #shopify-section-{{ section.id }} .so-cart-qty {
    white-space: nowrap;
    display: inline-block;
  }
  #shopify-section-{{ section.id }} #so-cart-form:not(.so-cart-shineon-form).so-cart-qty {
    margin: auto;
  }

  #shopify-section-{{ section.id }} .so-cart-qty > span,
  #shopify-section-{{ section.id }} .so-cart-qty > input[type="number"] {
    text-align: center;
    line-height: 25px;
    font-size: 14px;
    vertical-align: middle;
    border-radius: 0;
    float: left;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    width: 2em;
    border: 0;
    text-rendering: auto;
    color: initial;
    outline: none;
  }

  #shopify-section-{{ section.id }} input[type=number] {
    width: 4em;
    min-height: auto;
    -webkit-appearance: none;
    -moz-appearance: textfield;
    font-size: 1.125em;
  }

  #shopify-section-{{ section.id }} input[type=number]::-webkit-outer-spin-button,
  #shopify-section-{{ section.id }} input[type=number]::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  #shopify-section-{{ section.id }} .so-cart-qty {
    text-align: center;
    white-space: nowrap;
    display: flex;
    border: 1px solid #e8e9eb;
    border-radius: 0;
    line-height: 1.4em;
    vertical-align: middle;
  }

  #shopify-section-{{ section.id }} .so-cart-qty > span {
    border-radius: 0;
    font-weight: 300;
    cursor: pointer;
    width: 37px;
    font-size: 1.2em;
    border: 0;
  }

  #shopify-section-{{ section.id }} .so-cart-qty input[type="number"] {
    width: 35px;
    border: 0;
  }
  @media (min-width: 768px) {
    #shopify-section-{{ section.id }} .so-cart-qty input[type="number"] {
      width: 50px;
    }
  }

  #shopify-section-{{ section.id }} .so-cart-qty span.so-product-minus {
    border-right: 1px solid #e8e9eb;
  }

  #shopify-section-{{ section.id }} .so-cart-qty span.so-product-plus {
    border-left: 1px solid #e8e9eb;
  }
  #shopify-section-{{ section.id }} .so-cart-qty span.so-product-minus,
  #shopify-section-{{ section.id }} .so-cart-qty span.so-product-plus {
    display: flex;
    align-items: center;
    justify-content: center;
  }
  #shopify-section-{{ section.id }} .so-cart-qty span.so-product-minus svg,
  #shopify-section-{{ section.id }} .so-cart-qty span.so-product-plus svg {
    width: 11px;
    height: 15px;
  }

  #shopify-section-{{ section.id }} #so-cart-footer:not(.so-cart-summary) {
    display: block;
    padding: 20px 0;
    overflow: hidden;
  }

  #shopify-section-{{ section.id }} .wrap__cart_totals > div {
    font-size: 1.125em;
    margin: 5px 0;
    display: block;
  }

  #shopify-section-{{ section.id }} .wrap__cart_totals > div span {
    display: inline-block;
  }

  #shopify-section-{{ section.id }} .wrap__cart_totals .money {
    padding-left: 5px;
  }

  #shopify-section-{{ section.id }} .cart__subtotal-title {
    font-size: 1em;
    font-weight: normal;
  }

  #shopify-section-{{ section.id }} .so-cart-subtotal,
  #shopify-section-{{ section.id }} .cart__discounts {
    padding-left: 0;
    min-width: 0;
  }
  #shopify-section-{{ section.id }} .so-proceed-checkout-btn-wrap-below{
    flex-direction: column;
    text-align: center;
    flex: 1;
  }
  #shopify-section-{{ section.id }} .so-additional-checkout-buttons + .so-payment-methods,
  #shopify-section-{{ section.id }} .so-proceed-checkout-btn-wrap-below + .so-payment-methods {
    margin-top: 15px;
  }
  #shopify-section-{{ section.id }} .so-proceed-checkout-wrap .so-additional-checkout-buttons {
    display: block;
  }
  @media(min-width: 768px) {
    #shopify-section-{{ section.id }} .so-proceed-checkout-wrap .so-additional-checkout-buttons {
      margin: 10px 0 5px 0;
    }
  }
  #shopify-section-{{ section.id }} .so-proceed-checkout-wrap .so-additional-checkout-buttons [data-testid="grid-cell"] {
    width: 100%;
  }
  @media(min-width: 768px) {
    #shopify-section-{{ section.id }} .so-proceed-checkout-wrap .so-additional-checkout-buttons [data-testid="grid-cell"] {
      flex-basis: 100% !important;
    }
  }
  #shopify-section-{{ section.id }} .additional-checkout-buttons {
    width: 100%;
  }
  #shopify-section-{{ section.id }} .so-cart-custom-text{
    padding: 1em 0;
  }
  #shopify-section-{{ section.id }} footer .so-security-seal{
    display: block;
    max-width: 300px;
    margin: 1em auto;
  }
  #shopify-section-{{ section.id }} .so-proceed-checkout-wrap{
    max-width: 100%;
    letter-spacing: 0;
  }
  @media only screen and (max-width: 960px) {
    #shopify-section-{{ section.id }} #so-cart-header .so-security-seal{
      display: none;
    }
    #shopify-section-{{ section.id }} .so-proceed-checkout-wrap{
      width: 100%;
    }
    #so-cart-footer .so-cart-flex > div{
      margin: 0 auto;
    }
    #shopify-section-{{ section.id }} .so-cart-continue{
      display: none;
    }
  }

  @media only screen and (max-width: 800px) {
    #shopify-section-{{ section.id }} {
      min-width: 90%;
    }
  }

  @media only screen and (max-width: 540px) {
    #shopify-section-{{ section.id }} .cart-shineon .container {
      min-width: 95%;
    }
    #shopify-section-{{ section.id }} .so-cart-meta{
      text-align: center;
    }
  }

  .so-grayscale-filter img,
  img.so-grayscale-filter {
    -webkit-filter: grayscale(100%);
    filter: grayscale(100%);
  }

  #so-loading {
    position: fixed;
    z-index: 99999999;
    margin: auto;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    background-color: rgba(255,255,255,.7);
  }
  #so-loading:after {
      content: "";
      display: block;
      position: absolute;
      top: 50%;
      left: 50%;
      width: 32px;
      height: 32px;
      margin: -16px 0 0 -16px;
      border-radius: 50%;
      border: 4px solid #042362;
      border-color: #042362 transparent #042362 transparent;
      animation: lds-dual-ring 1.2s linear infinite;
  }
  @keyframes lds-dual-ring {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }

  #so-loading:before {
    content: '';
    display: block;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.2);
  }

  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-proceed-checkout-btn {
    padding: 0 15px;
    background-color: {{ section.settings.checkout_btn_bg_color }};
    color: {{ section.settings.checkout_btn_fg_color }};
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-proceed-checkout-btn svg {
    fill: {{ section.settings.checkout_btn_fg_color }};
    max-width: 100%;
    margin-top: -7px;
  }

  .so-cart-summary {
    background-color: {{ section.settings.summary_bg_color }};
  }
  .so-cart-callout {
    background-color: {{ section.settings.callout_bg_color }};
    margin-bottom: 30px;
  }
  .so-cart-callout .d-flex {
    justify-content: center;
  }
  @media (max-width: 767px) {
    .so-cart-callout .d-flex {
      flex-direction: column;
    }
  }
  .so-cart-callout-text {
    color: {{ section.settings.callout_text_color }};
  }
  .so-cart-callout-icon,
  .so-cart-callout-text > span,
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .summary-item.wrap__cart_totals>div .money {
    color: #272727;
  }
  {% if section.settings.cart_grid_type != 'newest' %}
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .summary-item,
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .so-payment-methods,
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .callouts-guarantee-secure {
    border-bottom: 1px solid #e8e9eb;
  }
  {% endif %}
  @media (max-width: 767px) {
    .so-cart-callout-icon {
      margin-bottom: 5px;
    }
  }
  {{ section.settings.custom_css }}
</style>

<style>
  .main-content .wrapper {
    max-width: 1170px;
  }
  #shopify-section-{{ section.id }} {
    max-width: 100% !important;
  }
  @media(max-width: 767px) {
    #shopify-section-{{ section.id }} {
      padding-top: 0;
    }
  }
  #shopify-section-{{ section.id }} .cart-shineon {
    max-width: 1230px;
    color: #272727;
    margin-left: auto;
    margin-right: auto;
  }
  @media (min-width: 768px) {
    #shopify-section-{{ section.id }} .cart-shineon {
      padding: 0 15px;
    }
  }
  #shopify-section-{{ section.id }} .so-cart-callout {
    border-bottom: 2px solid #e8e9eb;
  }
  @media (min-width: 768px) and (max-width: 991px) {
    #shopify-section-{{ section.id }} .so-cart-callout {
      padding: 0 50px;
    }
  }
  #shopify-section-{{ section.id }} .so-cart-callout .so-cart-callout-text {
    margin-left: 5px;
  }
  #shopify-section-{{ section.id }} .so-cart-callout .cart-callout-icon {
    margin-right: 7.5px;
  }
  #shopify-section-{{ section.id }} .so-cart-callout .cart-callout-icon svg {
    font-size: 1em;
  }
  #shopify-section-{{ section.id }} .so-cart-callout > div.container p {
    padding: 10px 0;
  }
  @media (min-width: 768px) {
    #shopify-section-{{ section.id }} .so-cart-callout > div.container p {
      padding: 25px 0;
    }
  }
  @media (min-width: 768px) {
    #shopify-section-{{ section.id }} .so-cart-callout > div.container p .so-cart-callout-icon {
      margin-right: 8px;
    }
  }
  #shopify-section-{{ section.id }} .so-cart-callout > div.container p .so-cart-callout-text {
    font-size: 13px;
    letter-spacing: 0.5rem;
    font-family: Raleway, "Avenir Next Rounded", Helvetica, Arial, sans-serif;
    text-transform: uppercase;
  }
  @media (min-width: 768px) {
    #shopify-section-{{ section.id }} .so-cart-callout > div.container p .so-cart-callout-text {
      font-size: 15px;
    }
  }
  @media (min-width: 992px) {
    #shopify-section-{{ section.id }} .so-cart-callout > div.container p .so-cart-callout-text {
      line-height: 34px;
      text-align: center;
    }
  }
  @media (max-width: 767px) {
    #shopify-section-{{ section.id }} .so-cart-callout > div.container p .so-cart-callout-text {
      line-height: 1.42;
      text-align: center;
    }
  }
  #shopify-section-{{ section.id }} .so-cart-callout > div.container p .so-cart-callout-text span {
    color: #4caf50;
    font-weight: bold;
  }
  @media only screen and (max-width: 991px) {
    #shopify-section-{{ section.id }} .container {
      width: 100%;
    }
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form {
    display: flex;
    align-items: stretch;
    margin-bottom: 0;
    border-width: 1px 0;
  }
  @media (min-width: 768px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form {
      border-radius: 4px;
      border-width: 1px;
    }
  }
  @media (max-width: 767px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form {
      flex-direction: column;
    }
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-price .so-cart-lineprice span {
    margin: 0 5px;
  }
  @media(min-width: 768px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items {
      flex: 1 1 70%;
    }
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items {
      display: flex;
      flex-direction: column;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item {
    padding: 15px;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item--addon-product {
    order: 1;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item--addon-oreo {
    order: 2;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item.cart-item-addon {
    position: relative;
    overflow: hidden;
    margin-top: 18px;
  }
  @media (max-width: 767px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item.cart-item-addon {
      align-items: center;
    }
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item.cart-item-addon > .callout-ribbon {
    position: absolute;
    top: -50px;
    left: -50px;
    z-index: 10;
    box-shadow: 0 0 10px rgba(0, 0, 0, .15);
    transform: rotate(45deg);
    width: 100px;
    height: 100px;
    border-right: 1px solid #e8e8e8;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item.cart-item-addon > .so-cart-callout-icon {
    position: absolute;
    top: 0;
    left: 0;
    z-index: 11;
    padding: 10px;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item.cart-item-addon .so-product-title {
    position: relative;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item.cart-item-addon .so-product-title .so-cart-callout-icon-in-text {
    position: absolute;
    top: -3px;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item.cart-item-addon .so-product-title .so-cart-callout-icon-in-text + p {
    text-indent: 25px;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item.cart-item-addon .so-cart-item-info {
    align-items: center;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item.cart-item-addon .so-cart-item-info .list-view-item__title {
    margin-bottom: 0;
    font-weight: normal;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item.cart-item-addon .so-cart-item-info .list-view-item__title.with-action-img {
    display: flex;
    align-items: center;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item.cart-item-addon .so-cart-item-info .list-view-item__title strong {
    color: #56b359;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item.cart-item-addon .so-cart-item-info .list-view-item__title .so-product-title {
    padding-bottom: 0;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item.cart-item-addon .so-cart-item-info .list-view-item__title .so-product-title p + p {
    margin-top: 5px;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item.cart-item-addon .item-price .so-strike-through {
    font-weight: normal;
    text-decoration: line-through;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item .so-cart-image {
    flex: 0 0 90px;
  }
  @media (min-width: 768px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item .so-cart-image {
      flex: 0 0 150px;
    }
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item .so-cart-image svg {
    width: 100%;
    height: 100%;
  }
  @media (max-width: 767px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item .so-cart-meta {
      text-align: left;
    }
  }
  @media (max-width: 991px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item .so-cart-meta {
      flex: 1;
    }
    #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item .so-cart-meta .so-cart-qty {
      border-color: #ececec;
    }
    #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item .so-cart-meta .so-cart-qty .so-product-minus, #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item .so-cart-meta .so-cart-qty .so-product-plus {
      background-color: transparent;
      border: 0;
    }
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-items .so-cart-item:last-of-type {
    border-bottom: 0;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary {
    font-size: 14px;
  }
  @media (min-width: 768px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary {
      flex: 1 1 30%;
    }
  }
  {% if section.settings.summary_bg_color == 'rgba(0,0,0,0)' or section.settings.summary_bg_color == null or section.settings.summary_bg_color == '' %}
  @media(min-width: 768px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary {
      padding-right: 0;
    }
  }
  {% endif %}
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .summary-item {
    padding-bottom: 15px;
    margin-bottom: 15px;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .summary-item.wrap__cart_totals > div {
    margin: 0;
    font-size: inherit;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .summary-item.wrap__cart_totals > div .wrap__cart__subtotal {
    font-size: 18px;
    margin: 0;
    display: flex;
    justify-content: center;
  }
  #shopify-section-{{ section.id }} p.so-payment-or {
    padding: 10px 0 0;
    font-weight: bold;
    font-size: 16px;
    line-height: 22px;
    text-transform: uppercase;
    color: #555555;
  }
  @media (max-width: 767px) {
    #shopify-section-{{ section.id }} p.so-payment-or {
      padding: 15px 0 8px;
    }
  }
  @media (min-width: 992px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .summary-item.wrap__cart_totals > div .money {
      padding-left: 15px;
    }
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .summary-item.wrap__cart_totals > div .cart__shipping {
    font-size: 13px;
    color: #9c9c9c;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .summary-item.wrap__cart_totals > div .cart__shipping, #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .summary-item.wrap__cart_totals > div .sub-header {
    margin: 0;
  }
  @media (max-width: 767px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .summary-item.wrap__cart_totals > div .sub-header {
      font-weight: bold;
    }
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .summary-item.header {
    font-size: 20px;
    line-height: 1;
    padding-top: 0;
    font-weight: bold;
    display: none;
  }
  @media (min-width: 768px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .summary-item.header {
      display: block;
    }
  }
  @media (max-width: 767px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .summary-item .sub-header {
      line-height: 1.8;
    }
  }
  @media (min-width: 768px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .summary-item .sub-header {
      display: none;
    }
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .so-payment-methods {
    padding-bottom: 15px;
    margin-bottom: 15px;
  }
  @media (max-width: 767px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .so-payment-methods {
      text-align: center;
    }
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .so-payment-methods img {
    vertical-align: middle;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .callouts-guarantee-secure {
    padding: 15px;
    margin-bottom: 15px;
    border-bottom: 1px solid #e8e9eb;
    flex-direction: row;
  }
  @media (max-width: 767px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .callouts-guarantee-secure .callout-secure {
      min-height: 44px;
    }
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .callouts-guarantee-secure .d-flex {
    align-items: center;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .callouts-guarantee-secure .icon {
    height: auto;
    margin-right: 7.5px;
    text-align: center;
    font-size: 20px;
    {% unless section.settings.callout_guarantee_image != null %}
    line-height: 0;
    {% endunless %}
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .callouts-guarantee-secure .icon img {
    max-width: 100%;
    vertical-align: top;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .so-cart-flex {
    padding: 10px 15px;
  }
  @media (min-width: 768px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .so-cart-flex {
      padding: 10px 6px;
    }
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .so-cart-flex.so-security-seal {
    padding-bottom: 20px;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .so-cart-flex.so-proceed-checkout-wrap, #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .so-cart-flex.so-security-seal {
    padding-top: 0;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .so-cart-flex.so-proceed-checkout-wrap .so-proceed-checkout-btn {
    font-size: 18px;
  }
  @media (max-width: 1024px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .so-cart-flex.so-proceed-checkout-wrap .so-proceed-checkout-btn {
      font-size: 16px;
    }
  }
  @media (min-width: 768px) and (max-width: 991px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .so-cart-flex.so-proceed-checkout-wrap .so-proceed-checkout-btn {
      margin-top: 15px;
    }
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .so-cart-flex.so-proceed-checkout-wrap .so-payment-methods {
    padding-top: 10px;
  }
  @media (max-width: 991px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .so-proceed-checkout-wrap .so-proceed-checkout-btn {
      margin-top: 15px;
    }
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .trustpoint-rating {
    display: flex;
    align-items: center;
    padding-bottom: 15px;
    padding-top: 0;
    margin-bottom: 15px;
    border-bottom: 1px solid #e8e9eb;
    width: 100%;
    justify-content: flex-start;
  }
  @media (max-width: 767px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .trustpoint-rating {
      justify-content: center;
    }
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .trustpoint-rating img {
    margin-right: 10px;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form .so-cart-summary .trustpoint-rating p {
    margin-bottom: 0;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-items .so-cart-item {
    background-color: #fff;
    box-shadow: 0px 6px 12px rgba(219, 229, 238, 0.8);
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-items .so-cart-item:not(.cart-item-addon) {
    padding-bottom: 15px;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-items .cart-item-addon .so-cart-image .copy-below-addon-img {
    text-align: center;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-items .cart-item-addon .so-cart-image .copy-below-addon-img > span {
    display: inline-block;
    text-transform: uppercase;
    font-size: 13px;
    line-height: 18px;
    padding: 3px 5px;
    margin-top: 5px;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-items .cart-item-addon .so-cart-lineprice .so-strike-through {
    font-size: 15px;
    line-height: 20px;
    text-decoration-line: line-through;
    color: rgba(26, 42, 71, 0.4);
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-items .cart-item-addon .so-product-title.with-ribbon .callout-fire {
    position: absolute;
    top: -2px;
    max-width: none;
    margin-bottom: 0;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-items .cart-item-addon .so-product-title.with-ribbon > p:first-of-type {
    font-family: EB Garamond;
    font-size: 20px;
    line-height: 23px;
    color: #1a2a47;
  }
  @media(min-width: 768px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-items .cart-item-addon .so-product-title.with-ribbon > p:first-of-type {
      text-indent: 30px;
    }
  }
  @media(max-width: 767px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-items .cart-item-addon .so-product-title.with-ribbon > p:first-of-type {
      padding-left: 32px;
    }
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-items .cart-item-addon .so-product-title.with-ribbon > p:last-of-type {
    font-family: Avenir Next;
    font-size: 13px;
    line-height: 18px;
    color: #1a2a47;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-items .text_usps {
    display: flex;
    background-color: rgba(232, 237, 242, 0.49);
    padding: 10px;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-items .text_usps span {
    font-weight: 500;
    font-size: 13px;
    line-height: 18px;
    color: #284372;
    padding-right: 15px;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-footer {
    padding-top: 0;
    padding-bottom: 0;
  }
  @media (max-width: 767px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-footer {
      margin-top: 25px;
    }
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-footer .cart_total-payment_btn {
    padding: 20px 18px;
    border-bottom: 1px solid #dbdad8;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-footer .cart_total-payment_btn .cart-form-header {
    border: 0;
    padding-top: 5px;
    padding-bottom: 10px;
  }
  @media(min-width: 768px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-footer .cart_total-payment_btn {
      margin-left: 15px;
      margin-right: 15px;
    }
  }
  @media(max-width: 767px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-footer .cart_total-payment_btn {
      box-shadow: 0px 0px 35px rgba(0, 0, 0, 0.25);
    }
  }
  @media (max-width: 767px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-footer .cart_total-payment_btn.fixed {
      position: fixed;
      left: 0;
      bottom: 0;
      width: 100%;
      z-index: 11;
    }
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-footer .cart_total-payment_btn .wrap__cart_totals {
    padding-bottom: 0;
    margin-bottom: 0;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-footer .callouts-guarantee-secure {
    margin: 0 -2.5%;
    border-bottom: 0;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-footer .callouts-guarantee-secure > .flex-item {
    flex: 1 1 45%;
    margin: 0 2.5%;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-footer .callouts-guarantee-secure > .flex-item .d-flex {
    flex-direction: column;
    padding: 35px 10px;
    box-shadow: 0px 6px 12px rgba(219, 229, 238, 0.8);
    background-color: #fff;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-footer .callouts-guarantee-secure > .flex-item .d-flex .icon {
    width: 69px;
    flex: 0 0 69px;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-footer .callouts-guarantee-secure > .flex-item .d-flex p {
    color: #274372;
    text-align: center;
    font-size: 17px;
    line-height: 1.15;
    font-weight: 600;
    margin-top: 22px;
    min-height: 38px;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-footer .so-proceed-checkout-btn-wrap-below + .so-payment-methods, #shopify-section-{{ section.id }} .so-cart-shineon-form.newest-style #so-cart-footer .so-additional-checkout-buttons + .so-payment-methods {
    margin-bottom: 0;
    padding-bottom: 0;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form:not(.newest-style) #so-cart-items {
    display: flex;
    flex-direction: column;
    flex: 1 1 70%;
  }
  @media (min-width: 768px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form:not(.newest-style) #so-cart-items {
      border-right: 1px solid #e8e9eb;
    }
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form:not(.newest-style) #so-cart-items .so-cart-item {
    padding: 15px;
    order: 1;
    border-bottom: 0;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form:not(.newest-style) #so-cart-items .so-cart-item + .so-cart-item {
    border-top: 1px solid #e8e9eb;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form:not(.newest-style) #so-cart-items .so-cart-item.cart-item-addon {
    order: 0;
    border: 1px solid #56b359;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form:not(.newest-style) #so-cart-items .so-cart-item .so-cart-price .so-cart-price-free {
    font-size: 22px;
    font-weight: bold;
    line-height: 34px;
    color: #56b359;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form:not(.newest-style) #so-cart-footer {
    display: flex;
    flex-direction: column;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form:not(.newest-style) #so-cart-footer .summary-item.header {
    order: -1;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form:not(.newest-style) #so-cart-footer .wrap__cart_totals + .so-payment-methods {
    border-bottom: 0;
    padding-bottom: 0;
    margin-bottom: 0;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form:not(.newest-style) #so-cart-footer .so-proceed-checkout-wrap {
    margin-bottom: 20px;
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form:not(.newest-style) #so-cart-footer .callouts-guarantee-secure {
    order: -1;
  }
  @media (min-width: 768px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form:not(.newest-style) #so-cart-footer .callouts-guarantee-secure {
      flex-direction: column;
    }
  }
  @media (min-width: 768px) {
    #shopify-section-{{ section.id }} .so-cart-shineon-form:not(.newest-style) #so-cart-footer .callouts-guarantee-secure > .flex-item + .flex-item {
      margin-top: 13px;
    }
  }
  #shopify-section-{{ section.id }} .so-cart-shineon-form:not(.newest-style) #so-cart-footer .callouts-guarantee-secure .icon {
    width: 37.5px;
    flex: 0 0 30px;
  }
  #shopify-section-{{ section.id }} .phone-number-w {
    background-color: transparent;
  }
  @media (min-width: 768px) {
    #shopify-section-{{ section.id }} .phone-number-w {
      display: none;
    }
  }

  @media (min-width: 992px) {
    .reviews-cart-carousel {
      width: 80%;
      margin: 50px auto 0;
    }
  }

  .reviews-cart-carousel .so_slick-arrow {
    min-height: 0;
  }
  .reviews-cart-carousel .so_slick-next,
  .reviews-cart-carousel .so_slick-prev {
    z-index: 10;
    width: 30px;
    height: 30px;
    padding: 6px;
    border-radius: 100%;
    background-color: #fff;
    box-shadow: 0px 6px 12px rgba(219, 229, 238, 0.8);
  }
  .reviews-cart-carousel .so_slick-prev
  {
      left: 10px;
  }
  [dir='rtl'] .reviews-cart-carousel .so_slick-prev
  {
      right: 10px;
      left: auto;
  }

  .reviews-cart-carousel .so_slick-next
  {
      right: 10px;
  }
  [dir='rtl'] .reviews-cart-carousel .so_slick-next
  {
      right: auto;
      left: 10px;
  }

  .reviews-cart-carousel .so_slick-next:before,
  .reviews-cart-carousel .so_slick-prev:before {
    display: none;
  }

  .reviews-cart-carousel .so_slick-next svg,
  .reviews-cart-carousel .so_slick-prev svg {
    width: 100%;
    height: 100%;
  }
  .reviews-cart-carousel .custom-reviews-wrp h3 {
    font-family: Avenir Next;
    font-style: normal;
    font-weight: 500;
    font-size: 22px;
    line-height: 30px;
    text-align: center;
    color: #1a2a47;
    margin: 0 0 22px;
  }
  .reviews-cart-carousel .custom-reviews-wrp .so_slick-track {
    padding-bottom: 20px;
  }
  .reviews-cart-carousel .custom-reviews-wrp .so_slick-track .so_slick-slide {
    background: #fff;
    box-shadow: 0px 6px 12px rgba(219, 229, 238, 0.8);
    margin-left: 15px;
    padding: 20px;
    margin-right: 15px;
    min-height: 220px;
  }
  .reviews-cart-carousel .custom-reviews-wrp .so_slick-track .so_slick-slide .custom-reviews-tile img {
    max-width: 115px;
  }
  .reviews-cart-carousel .custom-reviews-wrp .so_slick-track .so_slick-slide .custom-reviews-tile .stars-rating {
    display: flex;
  }
  .reviews-cart-carousel .custom-reviews-wrp .so_slick-track .so_slick-slide .custom-reviews-tile .stars-rating svg {
    width: 20px;
    height: 20px;
    margin-right: 2px;
    fill: {{ section.settings.reviews_stars_color }};
  }
  .reviews-cart-carousel .custom-reviews-wrp .so_slick-track .so_slick-slide .custom-reviews-tile h4 {
    margin: 0;
    font-family: Avenir Next;
    font-style: normal;
    font-weight: 600;
    font-size: 14px;
    line-height: 39px;
    color: #1a2a47;
  }
  .reviews-cart-carousel .custom-reviews-wrp .so_slick-track .so_slick-slide .custom-reviews-tile p {
    font-family: Avenir Next;
    font-style: normal;
    font-weight: normal;
    font-size: 14px;
    line-height: 24px;
  }
.theme-shineon-sprite {
  background-image: url({{ 'theme-shineon-sprite.png' | asset_url }});
  background-repeat: no-repeat;
  display: inline-block;
}
.theme-shineon-sprite.so-cart-remove-bg {
  width: 18px;
  height: 19px;
  background-position: -106px -106px;
}
.theme-shineon-sprite.callout-fire {
  display: inline-block;
  width: 26px;
  height: 32px;
  background-position: -298px -98px;
}
.theme-shineon-sprite.money-back,
.theme-shineon-sprite.secure-checkout {
  width: 69px;
  height: 71px;
}
.theme-shineon-sprite.money-back {
  background-position: -283px -159px;
}
.theme-shineon-sprite.secure-checkout {
  background-position: -380px -264px;
}
.cart-form-header {
  padding: 15px 10px 20px;
}
@media (min-width: 768px) and (max-width: 1199px) {
  .cart-form-header {
    padding: 15px 0 20px;
  }
}
@media(max-width: 767px) {
  .cart-form-header {
    border-top: 1px solid #ddd;
  }
}
.you_save {
  font-family: Raleway, "Avenir Next Rounded", "HelveticaNeue", "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-style: normal;
  font-size: 18px;
  line-height: 21px;
  text-align: center;
  color: #000000;
  font-weight: 600;
}
.you_save .diff_price {
  color: #64c010;
  padding-left: 6px;
  font-weight: 700;
}
.product-informations-alert {
  margin-top: 10px;
  display: block;
  text-align: center;
  font-family: Raleway,sans-serif;
  font-style: normal;
  font-weight: 600;
  font-size: 13px;
  line-height: 18px;
  border: 1px solid;
  padding: 8px 5px 5px;
  background: #fff2eb;
}
.product-informations-alert,
.product-informations-alert p,
.product-informations-alert .timer_wrapper {
  color: #ff5f01;
}
@media (min-width: 992px) {
  .with-rating > span {
    margin-right: 14px;
    white-space: nowrap;
  }
}
.with-rating .shop-rating {
  padding-top: 0;
  margin-bottom: 10px;
  display: flex;
  align-items: center;
}
.with-rating .shop-rating .shop-rating-count,
.with-rating .shop-rating .shop-rating-count_for_app
{
  margin-left: 3px;
  margin-top: 1px;
  font-size: 12px;
  font-weight: 400;
}
.with-rating .shop-rating i {
  color: #FFA300;
  margin-right: 1px;
}
.with-rating .shop-rating svg {
  width: 15px;
  height: 15px;
  fill: #FFA300;
  margin-right: 1px;
}
@media (max-width: 991px) {
  .with-rating .shop-rating img {
    margin-right: 8px;
  }
}
.with-rating .shop-rating .loox-rating {
  font-size: 16px;
  margin-right: 3px;
}
.with-rating .shop-rating .loox-rating i {
  font-size: 16px;
}
.with-rating .shop-rating .loox-rating i + i {
  margin-left: 4px;
}
@media (min-width: 768px) {
  .with-rating .shop-rating span {
    white-space: nowrap;
  }
}
#shopify-section-{{ section.id }} .cart-form-header .so-proceed-checkout-btn {
  margin-top: 10px;
}
{% if section.settings.checkout_btn_effect == 'shadow' %}
{% assign checkout_btn_shadow_color = section.settings.checkout_btn_bg_color | color_darken: 12 %}
.so-proceed-checkout-btn {
  box-shadow: 3px 5px 0 {{ checkout_btn_shadow_color }};
  border-bottom: 1px solid {{ section.settings.checkout_btn_bg_color | color_darken: 20 }} !important;
}
@media(min-width: 992px) {
  .so-proceed-checkout-btn {
    box-shadow: 4px 6px 0 {{ checkout_btn_shadow_color }};
  }
}
{% endif %}
{% if section.settings.checkout_btn_effect == '3d' %}
{% assign add_to_cart_top_gradient_color = section.settings.checkout_btn_bg_color %}
{% assign add_to_cart_bottom_gradient_color = section.settings.checkout_btn_bg_color | color_darken: 5 %}
.so-proceed-checkout-btn {
  background-color: none !important;
  background: -webkit-gradient(linear, left bottom, left top, from({{ add_to_cart_bottom_gradient_color }}), to({{ add_to_cart_top_gradient_color }}));
  background: -o-linear-gradient(bottom, {{ add_to_cart_bottom_gradient_color }} 0%, {{ add_to_cart_top_gradient_color }} 100%);
  background: linear-gradient(0deg, {{ add_to_cart_bottom_gradient_color }} 0%, {{ add_to_cart_top_gradient_color }} 100%);
  -webkit-box-shadow: none;
  box-shadow: none;
  -webkit-box-shadow: 0 8px 30px -6px rgb(0 0 0 / 70%);
  box-shadow: 0 8px 30px -6px rgb(0 0 0 / 70%);
}
{% endif %}
#shopify-section-{{ section.id }} .so-proceed-checkout-btn {
  min-height: 56px;
}
#shopify-section-{{ section.id }} .so-proceed-checkout-btn .checkout-title {
  font-size: 16px;
  font-weight: bold;
  text-transform: uppercase;
  margin: 0 4px;
  line-height: 1.5;
}
.shopify-cleanslate ._1mqqPYZtCQtz5_i0b-po4l {
  justify-content: center;
}
</style>

{% if section.settings.add_afterpay == true %}
{% render 'afterpay-scripts' %}
{% endif %}

{% schema %}
{
  "name": "ShineOn Cart page",
  "settings": [
  {
    "type": "header",
    "content": "NOTICE",
    "info": "These settings are used on the Shineon cart page. Be sure \"Use ShineOn Cart Page\" is enabled on your ShineOn product page theme settings."
  },
  {
    "type": "header",
    "content": "PREVIEW",
    "info": "Shopify preview does not work with custom cart pages, you will need to save and review your changes by navigating to https://your-store-name-here.com/cart?view=shineon"
  },
  {
    "type": "header",
    "content": "Title and Timer"
  },
  {
    "type": "checkbox",
    "id": "show_items_quantity",
    "label": "Show title quantity",
    "default": false
  },
  {
    "type": "checkbox",
    "id": "cart_timer_enable",
    "label": "Enable Timer",
    "default": true
  },
  {
    "type": "color",
    "id": "cart_title_timer_bg",
    "label": "Title & Timer bg",
    "default": "#e8edf1"
  },
  {
    "type": "number",
    "id": "cart_timer_minute",
    "label": "Cart Timer Minute",
    "info": "Example: 1200 second left = 20 minutes left",
    "default": 600
  },
  {
    "type": "color",
    "id": "cart_timer_bg",
    "label": "Timer bg",
    "default": "#284372"
  },
  {
    "type": "color",
    "id": "cart_timer_color",
    "label": "Text color",
    "default": "#ffffff"
  },
  {
    "type": "header",
    "content": "Switch"
  },
  {
    "type": "text",
    "id": "tag_switch",
    "label": "Tag Switch",
    "info": "If Cart has product with Switch tag"
  },
  {
    "type": "text",
    "id": "addons_description_splitter",
    "label": "Marker for split description",
    "default": "<p>/--so-description-full--/</p>"
  },
  {
    "type": "header",
    "content": "Cart ADD-ON"
  },
  {
    "type": "text",
    "id": "addon_tag_to_detect",
    "label": "Tag addons can be filtered by",
    "default": "ADDON-PRODUCT"
  },
  {
    "type": "header",
    "content": "Cart ADD-ON Oreo Box"
  },
  {
    "type": "checkbox",
    "id": "show_oreo_box",
    "label": "Show Oreo Box",
    "default": true
  },
  {
    "type": "image_picker",
    "id": "cart_addon_img",
    "label": "Image"
  },
  {
    "type": "text",
    "id": "price_oreo_box",
    "label": "Price fpr Oreo Box",
    "default": "1000",
    "info": "Value should be in cents. For exmple 1000 = $10"
  },
  {
    "type": "color",
    "id": "copy_below_addon_image_bg",
    "label": "Copy below image BG",
    "default": "#33C532"
  },
  {
    "type": "color",
    "id": "copy_below_addon_image_color",
    "label": "Copy below image Color",
    "default": "#fff"
  },
  {
    "type": "html",
    "id": "cart_addon_text",
    "label": "Text",
    "default": "<p>Limited Time Offer<\/p><p>Buy now and get FREE GIFT BOX with each item.<\/p>"
  },
  {
    "type": "radio",
    "id": "show_cart_addon_ribbon",
    "options": [
      {
        "value": "corner",
        "label": "Corner"
      },
      {
        "value": "in_title",
        "label": "In Title"
      }
    ],
    "label": "Fire ribbon position",
    "default": "in_title"
  },
  {
    "type": "header",
    "content": "After Pay"
  },
  {
    "type": "checkbox",
    "id": "add_afterpay",
    "label": "Add After Pay",
    "default": false
  },
  {
    "type": "header",
    "content": "General",
    "info": "Basic settings for your buyer's cart page experience"
  },
  {
    "type": "radio",
    "id": "cart_grid_type",
    "options": [
      {
        "value": "regular",
        "label": "Regular"
      },
      {
        "value": "newest",
        "label": "Newest view"
      }
    ],
    "label": "Card grid view",
    "default": "newest"
  },
  {
    "type": "radio",
    "id": "cart_properties_type",
    "options": [
      {
        "value": "regular",
        "label": "Regular"
      },
      {
        "value": "newest",
        "label": "Newest view"
      }
    ],
    "label": "Card properties view",
    "default": "regular"
  },
  {
    "type": "checkbox",
    "id": "enable_cart_currency",
    "label": "Add currency to Total",
    "default": true
  },
  {
    "type": "range",
    "id": "container_max_width",
    "label": "General > Max Width (px)",
    "default": 1200,
    "min": 600,
    "max": 1800,
    "step": 20,
    "info": "The max width of the cart content area"
  },
  {
    "type": "range",
    "id": "general_content_padding",
    "label": "General > Padding",
    "default": 0,
    "min": 0,
    "max": 500,
    "step": 5,
    "info": "Padding above the main content area"
  },
  {
    "type": "checkbox",
    "id": "cart_notes_enable",
    "label": "General > Cart Notes",
    "default": false,
    "info": "Permit your buyers to add notes before they checkout"
  },
  {
    "type": "checkbox",
    "id": "additional_checkout_buttons",
    "label": "General > Show Additional Checkout Buttons",
    "default": true,
    "info": "Show Payment Gateways: Paypal, Amazon Pay,... that are setup on your store."
  },
  {
    "type": "header",
    "content": "Callout",
    "info": "ABOVE YOUR CART, customize a callout with special content when a buyer goes through checkout with a ShineOn product"
  },
  {
    "type": "checkbox",
    "id": "callout_visibility",
    "label": "Callout > Show",
    "default": false,
    "info": "Show or hide the callout"
  },
  {
    "type": "image_picker",
    "id": "callout_image",
    "label": "Callout > Image",
    "info": "Replace the image used in the callout"
  },
  {
    "type": "html",
    "id": "callout_text",
    "label": "Callout > Text",
    "default": "Item in your cart is in high demand. Proceed quickly to reserve",
    "info": "Customize the text displayed. HTML is permitted"
  },
  {
    "type": "color",
    "id": "callout_text_color",
    "label": "Callout > Text Color",
    "default": "#272727"
  },
  {
    "type": "color",
    "id": "callout_bg_color",
    "label": "Callout > Background Color",
    "default": "#f4f7fb"
  },
  {
    "type": "header",
    "content": "Cart line items"
  },
  {
    "type": "radio",
    "id": "grid_type",
    "options": [
      {
        "value": "regular",
        "label": "Regular"
      },
      {
        "value": "newest",
        "label": "Newest view"
      }
    ],
    "label": "Cart items view",
    "default": "newest"
  },
  {
    "type": "radio",
    "id": "warranty_design",
    "options": [
      {
        "value": "regular",
        "label": "Regular"
      },
      {
        "value": "cro-tested",
        "label": "Optimized"
      }
    ],
    "label": "Warranty Design",
    "default": "cro-tested"
  },
  {
    "type": "header",
    "content": "Summary",
    "info": "Configure the summary with your cart total and your value props in this area"
  },
  {
    "type": "color",
    "id": "total_payment_bg",
    "label": "Summary > Total payment bg",
    "default": "#f3f3f3"
  },
  {
    "type": "checkbox",
    "id": "show_summary_title",
    "label": "Summary > Show Title",
    "default": false
  },
  {
    "type": "color",
    "id": "summary_fg_color",
    "label": "Summary > Text Color",
    "default": "#4d5152"
  },
  {
    "type": "color",
    "id": "summary_bg_color",
    "label": "Summary > Background Color",
    "default": "#f4f7fb"
  },
  {
    "type": "checkbox",
    "id": "callout_guarantee_visibility",
    "label": "Summary > Show Guarantee",
    "default": true
  },
  {
    "type": "image_picker",
    "id": "callout_guarantee_image",
    "label": "Summary > Guarantee Image"
  },
  {
    "type": "text",
    "id": "callout_guarantee_text",
    "label": "Summary > Guarantee Text",
    "default": "60-Day Money Back Guarantee"
  },
  {
    "type": "checkbox",
    "id": "callout_secure_visibility",
    "label": "Summary > Show Secure",
    "default": true
  },
  {
    "type": "image_picker",
    "id": "callout_secure_image",
    "label": "Summary > Secure Image",
    "info": "Replace the \"secure image\" with your own"
  },
  {
    "type": "text",
    "id": "callout_secure_text",
    "label": "Summary > Secure Text",
    "default": "100% Secure Checkout",
    "info": "Custom the copy aside the \"secure image\""
  },
  {
    "type": "header",
    "content": "Button",
    "info": "Customize your checkout button experience"
  },
  {
    "type": "range",
    "id": "checkout_text_size",
    "label": "Button > Font Size (px)",
    "default": 19,
    "min": 12,
    "max": 30,
    "step": 1,
    "info": "The font size of the checkout button text."
  },
  {
    "type": "select",
    "id": "checkout_btn_effect",
    "label": "Checkout BTN Effects",
    "options": [
      {
        "value": "none",
        "label": "None"
      },
      {
        "value": "shadow",
        "label": "Shadow"
      },
      {
        "value": "3d",
        "label": "3D Shadow"
      }
    ],
    "default": "3d"
  },
  {
    "type": "color",
    "id": "checkout_btn_bg_color",
    "label": "Button > Background color",
    "default": "#1A2A47"
  },
  {
    "type": "color",
    "id": "checkout_btn_fg_color",
    "label": "Button > Text color",
    "default": "#ffffff"
  },
  {
    "type": "header",
    "content": "Below Button",
    "info": "Configure content below your checkout button."
  },
  {
    "type": "html",
    "id": "custom_text",
    "label": "Below Button > HTML",
    "info": "Use this to add a discount code or any other text. It will be visible below the checkout button."
  },
  {
    "type": "checkbox",
    "id": "show_payment_methods_top",
    "label": "Summary Top > Show Payment Methods",
    "default": false
  },
  {
    "type": "checkbox",
    "id": "show_payment_methods_bottom",
    "label": "Below Button > Show Payment Methods",
    "default": true
  },
  {
    "type": "image_picker",
    "id": "payment_option_security_seal",
    "label": "Below Button > Image",
    "info": "Replace the image (typically payment methods) below your checkout button"
  },
  {
    "type": "header",
    "content": "Shop Ratings"
  },
  {
    "type": "radio",
    "id": "reviews_on_cart_page",
    "options": [
      {
        "value": "so-loox",
        "label": "Loox reviews if installed"
      },
      {
        "value": "so-default",
        "label": "Shineon default reviews"
      },
      {
        "value": "none",
        "label": "Hide Shineon reviews"
      }
    ],
    "label": "Reviews on Cart page",
    "default": "so-default"
  },
  {
    "type": "url",
    "id": "rating_url",
    "label": "Rating URL"
  },
  {
    "type": "color",
    "id": "reviews_stars_color",
    "label": "Default Review star color",
    "default": "#00b679"
  },
  {
    "type": "text",
    "id": "loox_excluded_tags",
    "label": "Exclude products with listed tags",
    "default": "WARRANTY"
  },
  {
    "type": "checkbox",
    "id": "show_loox_count",
    "label": "Show review counter on proudct",
    "default": true
  },
  {
    "type": "range",
    "id": "show_loox_from",
    "label": "From what quantity show loox count",
    "min": 0,
    "max": 1000,
    "step": 10,
    "default": 0
  },
  {
    "type": "richtext",
    "id": "rating_text",
    "label": "Rating text",
    "default": "<p>Our customers say <strong>Excellent</strong> 4.4 out of 5</p>"
  },
  {
    "type": "header",
    "content": "Advanced",
    "info": "One of your Shopify web designers can add something really special."
  },
  {
    "type": "html",
    "id": "custom_css",
    "label": "Advanced > Custom CSS"
  }
  ],
  "locales": {
    "en": {
      "cart_empty_title": "Your cart",
      "cart_empty_message": "Your cart is currently empty.",
      "cart_continue_btn_copy": "Continue shopping",
      "cart_expire_1107": "Cart reserved for",
      "cart_expire_minutes_1107": "minutes",
      "items_with_count_html": {
        "one": "<span class='cart-items-counter'>{{ count }}<\/span> item in your cart",
        "other": "<span class='cart-items-counter'>{{ count }}<\/span> items in your cart"
      },
      "remove": "Remove",
      "you_save": "You Save",
      "summary": "Summary",
      "subtotal_title": "Total:",
      "cart_discounts": "Discounts",
      "package_protection_header": "Package Protection",
      "package_protection_text": "from Loss, Theft, & Damage",
      "package_protection_included": "included",
      "package_protection_excluded": "excluded",
      "shipping_taxes_info": "Shipping calculated at checkout",
      "proceed_to_checkout_button_text": "Proceed To Checkout",
      "checkout_button_or_addition": "OR",
      "proceed_to_checkout_button_text_suffix_items": "items",
      "item_option_title": "Title",
      "item_option_engraving": "Engraving",
      "item_property_engraving-line-1": "Engraving Line 1",
      "item_property_engraving-line-2": "Engraving Line 2",
      "item_property_size-us": "Size (US)",
      "cart_warranty_title_html": "<b>Protection plan</b> (valid for 2 years)",
      "cart_warranty_subtitle": "Great Choice! Your gift is now protected",
      "customizer_cart_addon_text_1063_html": "<p>Limited Time Offer<\/p><p>Buy now and get FREE GIFT BOX with each item.<\/p>",
      "customizer_cart_addon_text_free": "FREE",
      "customizer_cart_addon_badge_text_free": "Free item",
      "callout_guarantee_text": "60-Day Money Back Guarantee",
      "callout_secure_text": "100% Secure Checkout",
      "customizer_reviews_title_html": "<h3>See what people are saying<span> about [review_about]</span></h3>",
      "customizer_reviews_title_us": "us",
      "product_shineon_fake_reviews_part_1_html": "5@ Orlando Virgen@My order came in fast and I'm happy with it.&5@Ali Azhar@Great Service!&5@Serena Woosley@Beautiful looks exactly like the picture!&5@RMC@Good service&5@Cynthia Young@Excellent ......&5@Jeneice Warton@Very Beautiful Items<br>Good people to buy from and very honest people<br>And on time<br>Please buy from them&5@Jose Nava@My wife loved it! I am currently deployed and she felt the love that I have for her and how much she's appreciated because of this awesome gift. Thank you.&5@Randy@excellent customer service&5@Joy Ruby@It's beautiful&",
      "product_shineon_fake_reviews_part_2_html": "5@ SandyL@Website was easy to use and the engraving on the necklace I bought was so beautiful&5@Mark Burner@Great fast shipping!!!!!&5@Ian Fremantle@An excellent product, and excellent service. Ian Femantle&5@Lori Duvall@Beautiful product, quick service!&5@Chester Dell@Excellent. So in love&5@William Jacobson@I received the necklace well be for my wifes birthday.<br>Thank you she loved it.&",
      "product_shineon_fake_reviews_part_3_html": "5@ Jeffrey Bossard@easy to order, recieved the day they said it would be delivered.&5@Matt Johnson@Very happy with everything thanks&5@Robert Moody@It was awesome and fast. Thank you&5@MARVIN ESPINA@Ordered a necklace for my Daughter and received it in 5 days! Wow&5@Bill Wehinger@Awesome service",
      "cart_modern_view_space": "Space"
    },
    "fr": {
      "cart_empty_title": "Votre panier",
      "cart_empty_message": "Votre carte est actuellement vide.",
      "cart_continue_btn_copy": "Continuer vos achats",
      "cart_expire_1107": "Votre panier expirera dans",
      "cart_expire_minutes_1107": "minutes",
      "items_with_count_html": {
        "one": "<span class='cart-items-counter'>{{ count }}<\/span> article dans votre panier",
        "other": "<span class='cart-items-counter'>{{ count }}<\/span> articles dans votre panier"
      },
      "remove": "Retirer",
      "you_save": "Vous conomisez",
      "summary": "Rsum",
      "subtotal_title": "Total de la commande:",
      "cart_discounts": "Rduction",
      "package_protection_header": "Protection du colis",
      "package_protection_text": "contre la perte, le vol et les dommages",
      "package_protection_included": "inclus",
      "package_protection_excluded": "exclus",
      "shipping_taxes_info": "Expdition calcule  la caisse",
      "proceed_to_checkout_button_text": "Passer  la caisse",
      "checkout_button_or_addition": "OU",
      "proceed_to_checkout_button_text_suffix_items": "articles",
      "item_option_title": "Produit ",
      "item_option_engraving": "Gravure",
      "item_property_engraving-line-1": "Ligne de gravure 1",
      "item_property_engraving-line-2": "Ligne de gravure 2",
      "item_property_size-us": "Taille (US)",
      "cart_warranty_title_html": "<b>Plan de protection</b> (valable 2 ans)",
      "cart_warranty_subtitle": "Excellent choix! Votre cadeau est maintenant protg",
      "customizer_cart_addon_text_1063_html": "<p>Offre  dure limite<\/p><p>Achetez maintenant et obtenez un COFFRET CADEAU GRATUIT avec chaque article.<\/p>",
      "customizer_cart_addon_text_free": "GRATUIT",
      "customizer_cart_addon_badge_text_free": "Article Gratuit",
      "callout_guarantee_text": "Garantie de remboursement de 60 jours",
      "callout_secure_text": "Paiement 100% scuris",
      "customizer_reviews_title_html": "<h3>Dcouvrez ce que les gens disent<span> de [review_about]</span></h3>",
      "customizer_reviews_title_us": "nous",
      "product_shineon_fake_reviews_part_1_html": "5@Orlando Virgen@Ma commande est arrive rapidement et j'en suis satisfait.&5@Ali Azhar@Great Service!&5@Serena Woosley@Magnifique ressemble exactement  la photo!&5@RMC@Bon service&5@Cynthia Young@Excellent ......&5@Jeneice Warton@Beaux Produits<br>De bonnes personnes  acheter et des gens trs honntes<br>Et  temps<br>Veuillez acheter chez eux&5@Jose Nava@Ma femme a ador ! Je suis actuellement dploy et elle a ressenti l'amour que j'ai pour elle et combien elle est apprcie  cause de ce cadeau gnial. Merci.&5@Randy@excellent service client&5@Joy Ruby@C'est magnifique&",
      "product_shineon_fake_reviews_part_2_html": "5@SandyL@Site tait facile  utiliser et la gravure sur le collier que j'ai achet tait si belle&5@Mark Burner@Excellente expdition rapide !!!!!&5@Ian Fremantle@Un excellent produit et excellent service. Ian Femantle&5@Lori Duvall@Beau produit, service rapide !&5@Chester Dell@Excellent. Tellement amoureux&5@William Jacobson@J'ai reu le collier pour l'anniversaire de ma femme.<br>Merci elle l'a ador.&",
      "product_shineon_fake_reviews_part_3_html": "5@Jeffrey Bossard@facile  commander, reu le jour o ils ont dit qu'il serait livr.&5@Matt Johnson@Trs content de tout merci&5@Robert Moody@C'tait gnial et rapide. Merci&5@MARVIN ESPINA@Command un collier pour ma fille et reu en 5 jours ! Wow&5@Bill Wehinger@Super service",
      "cart_modern_view_space": "Espacer"
    },
    "es": {
      "cart_empty_title": "Su carrito",
      "cart_empty_message": "Su carrito est vaco.",
      "cart_continue_btn_copy": "Seguir comprando",
      "cart_expire_1107": "Su carrito caducar en",
      "cart_expire_minutes_1107": "minutos",
      "items_with_count_html": {
        "one": "<span class='cart-items-counter'>{{ count }}<\/span> artculo en tu carrito",
        "other": "<span class='cart-items-counter'>{{ count }}<\/span> objetos en tu carro de compras"
      },
      "remove": "Eliminar",
      "you_save": "Ahorras",
      "summary": "Resumen",
      "subtotal_title": "Total del pedido:",
      "cart_discounts": "Descuentos",
      "package_protection_header": "Proteccin de Paquetes",
      "package_protection_text": "de Prdida, Robo, & Daos",
      "package_protection_included": "incluido",
      "package_protection_excluded": "exclexcluidouded",
      "shipping_taxes_info": "Envo calculado al finalizar la compra",
      "proceed_to_checkout_button_text": "Pasar por la caja",
      "checkout_button_or_addition": "O",
      "proceed_to_checkout_button_text_suffix_items": "artculos",
      "item_option_title": "Ttulo",
      "item_option_engraving": "Grabado",
      "item_property_engraving-line-1": "Lnea de grabado 1",
      "item_property_engraving-line-2": "Lnea de grabado 2",
      "item_property_size-us": "Tamao (US)",
      "cart_warranty_title_html": "<b>Plan de Proteccin</b> (valido por 2 aos)",
      "cart_warranty_subtitle": "Gran Eleccin! Su regalo ahora est protegido",
      "customizer_cart_addon_text_1063_html": "<p>Oferta por Tiempo Limitado<\/p><p>Compre Ahora y Obtenga una CAJA DE REGALO GRATIS con cada artculo.<\/p>",
      "customizer_cart_addon_text_free": "GRATIS",
      "customizer_cart_addon_badge_text_free": "Artculo Gratism",
      "callout_guarantee_text": "Garanta de la Devolucin de su Dinero por 60 Das",
      "callout_secure_text": "Pago 100% Seguro",
      "customizer_reviews_title_html": "<h3>Vea lo que la gente dice<span> de [review_about]</span></h3>",
      "customizer_reviews_title_us": "nosotros",
      "product_shineon_fake_reviews_part_1_html": "5@Orlando Virgen@Mi pedido lleg rpido y estoy feliz con l&5@Ali Azhar@Servicio Genial!&5@Serena Woosley@Es hermoso se ve exactamente como en la foto!&5@RMC@Buen servicio&5@Cynthia Young@Excelente......&5@Jeneice Warton@Muy hermosos<br>Son buenas personas y muy honestas. Los recomiendo <br>Y a tiempo<br>Comprenles por favor&5@Jose Nava@A mi esposa le encant! Estoy en campaa militar y ella sinti el amor que le tengo y cuanto la aprecio a travs de este increible regalo. Gracias.&5@Randy@excelente servicio al cliente&5@Joy Ruby@Muy bello&",
      "product_shineon_fake_reviews_part_2_html": "5@SandyL@El stio es fcil de navegar y el grabado es hermoso!&5@Mark Burner@Excelente y envo muy rpido!!!!!&5@Ian Fremantle@Producto excelente, servicio excelente. Ian Femantle&5@Lori Duvall@Es muy bello, servicio rpido!&5@Chester Dell@Excelente. Enamorada!&5@William Jacobson@No puedo esperar para darselo a mi esposa en su cumpleaos.<br>Gracias, le encant.&",
      "product_shineon_fake_reviews_part_3_html": "5@Jeffrey Bossard@Fcil de ordenar, recibido el da que dijeron que lo hara.&5@Matt Johnson@Muy contento con todo gracias&5@Robert Moody@Sorprendente y rpido. Gracias.&5@MARVIN ESPINA@Lo ped para mi hija y lleg en 5 das! Wow&5@Bill Wehinger@Servicio fantstico",
      "cart_modern_view_space": "Espacio"
    },
    "de": {
      "cart_empty_title": "Ihr Warenkorb",
      "cart_empty_message": "Ihr Warenkorb ist derzeit leer.",
      "cart_continue_btn_copy": "Mit dem Einkaufen fortfahren",
      "cart_expire_1107": "Ihr Warenkorb luft ab in",
      "cart_expire_minutes_1107": "Minuten",
      "items_with_count_html": {
        "one": "<span class='cart-items-counter'>{{ count }}<\/span> Artikel in Ihrem Warenkorb",
        "other": "<span class='cart-items-counter'>{{ count }}<\/span> Produkte in Ihrem Einkaufswagen"
      },
      "remove": "Entfernen",
      "you_save": "Du sparst",
      "summary": "Bestellbersicht",
      "subtotal_title": "Auftragssumme:",
      "cart_discounts": "Rabatt:",
      "package_protection_header": "Versicherung des Pakets",
      "package_protection_text": "vor Verlust Diebstahl und Beschdigung",
      "package_protection_included": "inklusive",
      "package_protection_excluded": "exklusive",
      "shipping_taxes_info": "Versand an der Kasse berechnet",
      "proceed_to_checkout_button_text": "Zur Kasse",
      "checkout_button_or_addition": "ODER",
      "proceed_to_checkout_button_text_suffix_items": "Artikel",
      "item_option_title": "Name",
      "item_option_engraving": "Gravur",
      "item_property_engraving-line-1": "Gravurlinie 1",
      "item_property_engraving-line-2": "Gravurlinie 2",
      "item_property_size-us": "Gre (UNS)",
      "cart_warranty_title_html": "<b>Schutzplan</b> (Gltig fr 2 Jahre)",
      "cart_warranty_subtitle": "Gute Wahl! Dein Geschenk ist jetzt gesichert",
      "customizer_cart_addon_text_1063_html": "<p>Limitiertes Angebot<\/p><p>Kaufe jetzt und bekomme eine kostenlose Geschenkbox .<\/p>",
      "customizer_cart_addon_text_free": "Kostenlos",
      "customizer_cart_addon_badge_text_free": "Kostenloser Artikel",
      "callout_guarantee_text": "60-Tage Geld zurck Garantie",
      "callout_secure_text": "100% Sicherer Checkout",
      "customizer_reviews_title_html": "<h3>Das sagen Kunden<span> ber [review_about]</span></h3>",
      "customizer_reviews_title_us": "uns",
      "product_shineon_fake_reviews_part_1_html": "5@Orlando Virgen@Meine Bestellung kam schnell und ich bin zufreiden damit.&5@Ali Azhar@Super Service!&5@Serena Woosley@Wunderschn, schaut aus wie auf den Bildern!&5@RMC@Guter service&5@Cynthia Young@Exzellent ......&5@Jeneice Warton@Sehr schne Produkte<br>Super Shop von dem man kauft und netter Kundensupport<br>And on time<br>Bitte kauf von diesem Shop&5@Jose Nava@Meine Frau liebt es! Ich bin zurzeit auf Geschftsreise und Sie sprte die Liebe und wie sehr sie geschtzt wird wegen diesem Geschenk. Danke.&5@Randy@Exzelltenter Kundenservice&5@Joy Ruby@Es ist wunderschn&",
      "product_shineon_fake_reviews_part_2_html": "5@GntherW@Webseite war leicht zu bedienen und die Halskette mit der Gravur ist wunderschn&5@Mark Burner@Super schnelle Leiferung!!!!!&5@Osman B@Ein exzellentes Produkt, mit exzellenten Service. Klaus Mast&5@Lori Duvall@Wunderschne Produkte, schnelle Antwort per EMail!&5@Chester Dell@Perfekt! Ich liebe es.&5@William Jacobson@Ich habe die Kette bekommen und meine Frau geschenkt.<br>Danke Sie liebt es.&",
      "product_shineon_fake_reviews_part_3_html": "5@Tobias Mller@unkompiziert zu bestellen, wurde an den angegebenen Tag geliefert.&5@Matthias Strau@Sehr zufrieden mit dem Produkt, Danke!&5@Andreas Faust@Prompte Lieferung. Danke&5@Marvin Gro@Habe eine Halskette fr meine Schwester bestellt und kam in 5 Tagen! Wow&5@Thomas Wehinger@Gute Kundenservice",
      "cart_modern_view_space": "Raum"
    },
    "nl": {
      "cart_empty_title": "Uw winkelwagen",
      "cart_empty_message": "Uw winkelwagen is momenteel leeg.",
      "cart_continue_btn_copy": "Doorgaan met winkelen",
      "cart_expire_1107": "Winkelwagen gereserveerd voor",
      "cart_expire_minutes_1107": "minuten",
      "items_with_count_html": {
        "one": "<span class='cart-items-counter'>{{ count }}<\/span> artikel in uw winkelwagen",
        "other": "<span class='cart-items-counter'>{{ count }}<\/span> artikels in uw winkelwagen"
      },
      "remove": "Verwijder",
      "you_save": "You Save",
      "summary": "Samenvatting",
      "subtotal_title": "Totaal:",
      "cart_discounts": "Korting",
      "package_protection_header": "Pakketbescherming",
      "package_protection_text": "from Loss, Theft, & Damage",
      "package_protection_included": "inclusief",
      "package_protection_excluded": "exclusief",
      "shipping_taxes_info": "Verzending berekend bij het afrekenen",
      "proceed_to_checkout_button_text": "Ga naar de kassa",
      "checkout_button_or_addition": "OF",
      "proceed_to_checkout_button_text_suffix_items": "artikelen",
      "item_option_title": "Product ",
      "item_option_engraving": "Gravure",
      "item_property_engraving-line-1": "Gravure Lijn 1",
      "item_property_engraving-line-2": "Gravure Lijn 2",
      "item_property_size-us": "Maat (VS)",
      "cart_warranty_title_html": "<b>Beschermingsplan</b> (2 jaar geldig)",
      "cart_warranty_subtitle": "Goede keuze! Uw geschenk is nu beschermd",
      "customizer_cart_addon_text_1063_html": "<p>Aanbieding voor beperkte tijd<\/p><p>Koop nu en ontvang een GRATIS GESCHENKDOOS bij elk artikel.<\/p>",
      "customizer_cart_addon_text_free": "GRATIS",
      "customizer_cart_addon_badge_text_free": "Gratis Artikel",
      "callout_guarantee_text": "60 dagen niet goed geld terug garantie",
      "callout_secure_text": "100% veilig afrekenen",
      "customizer_reviews_title_html": "<h3>Bekijk wat mensen zeggen<span> over [review_about]</spain></h3>",
      "customizer_reviews_title_us": "ons",
      "product_shineon_fake_reviews_part_1_html": "5@Orlando Virgen@Mijn bestelling was snel binnen en ik ben er blij mee.&5@Ali Azhar@Geweldige service!&5@Serena Woosley@Geweldig, ziet er precies zo uit als op de foto!&5@RMC@Goede service@Cynthia Young@Excellent . .....&5@Jeneice Warton@Zeer mooie producten<br>Goede mensen om van te kopen en zeer eerlijke mensen<br>En op tijd<br>Koop alsjeblieft van hen&5@Jose Nava@Mijn vrouw vond het geweldig! Ik ben momenteel op missie met Defensie en ze voelde de liefde die ik voor haar heb en hoeveel ze wordt gewaardeerd vanwege dit geweldige cadeau. Bedankt.&5@Randy@Uitstekende klantenservice&5@Joy Ruby@Het is supermooi&",
      "product_shineon_fake_reviews_part_2_html": "5@SandyL@Website was gemakkelijk te gebruiken en de gravure op de ketting die ik kocht was zo mooi&5@Mark Burner@Geweldig snelle verzending!!!!!&5@Ian Fremantle@Een uitstekend product en uitstekende service. Ian Femantle&5@Lori Duvall@Prachtig product, snelle service!&5@Chester Dell@Excellent. Zo verliefd&5@William Jacobson@Ik heb de ketting ontvangen voor de verjaardag van mijn vrouw.<br>Bedankt ze was er dol op.&",
      "product_shineon_fake_reviews_part_3_html": "5@Jeffrey Bossard@gemakkelijk te bestellen, ontvangen op de dag dat ze zeiden dat het zou worden afgeleverd.&5@Matt Johnson@Erg blij met alles, bedankt&5@Robert Moody@Het was geweldig en snel. Bedankt&5@MARVIN ESPINA@Ik heb een ketting voor mijn dochter besteld en binnen 5 dagen ontvangen! Wow&5@Bill Wehinger@Geweldige service",
      "cart_modern_view_space": "Ruimte"
    }
  }
}
{% endschema %}


{% stylesheet 'scss' %}
{% endstylesheet %}
